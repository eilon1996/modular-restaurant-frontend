{"ast":null,"code":"var _jsxFileName = \"/home/eilon/programing/full-stack/confusion-new/confusion/src/component/EditBoxComponent.js\";\nimport React, { useState, useEffect } from 'react';\nimport Loading from './LoadingComponent';\nimport { useDebounce } from 'use-debounce';\n\nconst EditBox = props => {\n  const [edit, setEdit] = useState(false);\n  const [fontFamily, setFontFamily] = useState(() => {\n    if (props.myContent) return props.myContent[props.type][props.id][props.field].fontFamily;\n    return null;\n  });\n  const [fontSize, setFontSize] = useState(() => {\n    if (props.myContent) {\n      const size = props.myContent[props.type][props.id][props.field].fontSize;\n      if (typeof size == \"string\" && size.indexOf(\"px\") > -1) return size.slice(0, size.length - 2); // to remove the \"px\" if exist\n      else return parseInt(size);\n    }\n\n    return null;\n  });\n  const debouncedFontSize = useDebounce(fontSize, 2000);\n  useEffect(() => {\n    if (props.myContent !== null && fontSize != undefined && fontSize !== props.myContent[props.type][props.id][props.field].fontSize) {\n      console.log(\"debounce\");\n      props.myContent[props.type][props.id][props.field].fontSize = fontSize;\n      props.putContent(props.myContent);\n    }\n  }, [debouncedFontSize]);\n  /*\n  var delay;\n  useEffect(() => {\n      if (props.myContent !== null && fontSize != undefined && fontSize !== props.myContent[props.type][props.id][props.field].fontSize){\n          const func = debounce(() => {\n              console.log(\"debounce\")\n              props.myContent[props.type][props.id][props.field].fontSize = fontSize;\n              props.putContent(props.myContent);\n          }, 3000) \n          func();\n  } }, [fontSize]);\n  */\n\n  if (props.myContent === null || props.myContent === undefined) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 16\n      }\n    });\n  }\n\n  console.log(\"EditBox: props.myContent\", props.myContent ? \"myContent\" : \"null\", \" props.feild_name: \", props.field); //props.field   title/description\n  //props.id      0/1/2..\n  //props.type    head/dish/\n\n  var placeHolder = props.type + props.field;\n  var parentText = \"\"; // help to conect ti Input component state with the perent component (EditBox)\n\n  const Input = () => {\n    const [text, setText] = useState(() => {\n      if (props.myContent) return props.myContent[props.type][props.id][props.field].text;\n      return null;\n    });\n    useEffect(() => {\n      parentText = text;\n    }, [text]);\n\n    if (edit) {\n      if (props.field === \"title\") return /*#__PURE__*/React.createElement(\"input\", {\n        style: {\n          fontSize: fontSize + \"px\"\n        },\n        value: text,\n        onChange: event => setText(event.target.value),\n        placeholder: placeHolder,\n        className: fontFamily + \" col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 24\n        }\n      });else return /*#__PURE__*/React.createElement(\"textarea\", {\n        style: {\n          fontSize: fontSize + \"px\"\n        },\n        value: text,\n        onChange: event => setText(event.target.value),\n        placeholder: placeHolder,\n        className: fontFamily + \" col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 24\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: fontFamily + \" col-12\",\n      style: {\n        fontSize: fontSize + \"px\",\n        mb: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 16\n      }\n    }, text);\n  };\n\n  function handleSubmit(event) {\n    console.log(\"handleSubmit, parentText\", parentText);\n    props.myContent[props.type][props.id][props.field].text = parentText;\n    props.myContent[props.type][props.id][props.field].fontFamily = fontFamily;\n    props.putContent(props.myContent);\n    setEdit(false);\n    event.preventDefault();\n  }\n\n  function handleOnClick() {\n    setEdit(true);\n  }\n\n  function handleFontSize(amount) {\n    const size = parseInt(fontSize);\n\n    if (size < 8) {\n      alert(\"this is the minimum size\");\n      return;\n    }\n\n    if (size > 60) {\n      alert(\"this is the maximum size\");\n      return;\n    }\n\n    const new_size = String(size + amount) + \"px\";\n    props.myContent[props.type][props.id][props.field].fontSize = new_size;\n    props.putContent(props.myContent);\n  }\n\n  if (edit) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        padding: \"10px\",\n        margin: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: event => handleSubmit(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      value: fontFamily,\n      onChange: event => setFontFamily(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sofia\",\n      className: \"sofia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, \"Sofia\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"indieFlower\",\n      className: \"indieFlower\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, \"Indie Flower\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"courgette\",\n      className: \"courgette\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, \"Courgette\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"courierPrime\",\n      className: \"courierPrime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, \"Courier Prime\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"secularOne\",\n      className: \"secularOne\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 25\n      }\n    }, \"Secular One\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"architectsDaughter\",\n      className: \"architectsDaughter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, \"Architects Daughter\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"sacramento\",\n      className: \"sacramento\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Sacramento\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"edit-save btn btn-secondary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, \"save\")));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        padding: \"10px\",\n        margin: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"edit-save btn btn-secondary\",\n      onClick: () => handleOnClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }, \"edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"edit-save-arrow btn btn-secondary\",\n      onClick: () => setFontSize(fontSize + 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fa fa-angle-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"edit-save-arrow btn btn-secondary\",\n      onClick: () => setFontSize(fontSize - 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fa fa-angle-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }))));\n  }\n};\n\nexport default EditBox;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/confusion-new/confusion/src/component/EditBoxComponent.js"],"names":["React","useState","useEffect","Loading","useDebounce","EditBox","props","edit","setEdit","fontFamily","setFontFamily","myContent","type","id","field","fontSize","setFontSize","size","indexOf","slice","length","parseInt","debouncedFontSize","undefined","console","log","putContent","placeHolder","parentText","Input","text","setText","event","target","value","mb","handleSubmit","preventDefault","handleOnClick","handleFontSize","amount","alert","new_size","String","padding","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,OAAP,MAAqB,oBAArB;AACA,SAASC,WAAT,QAA4B,cAA5B;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AAEvB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,MAAM;AAC/C,QAAIK,KAAK,CAACK,SAAV,EACI,OAAQL,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDL,UAA3D;AAEJ,WAAO,IAAP;AACH,GAL2C,CAA5C;AAMA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,MAAM;AAC3C,QAAIK,KAAK,CAACK,SAAV,EAAoB;AAChB,YAAMM,IAAI,GAAGX,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDC,QAAhE;AACA,UAAI,OAAOE,IAAP,IAAe,QAAf,IAA2BA,IAAI,CAACC,OAAL,CAAa,IAAb,IAAoB,CAAC,CAApD,EACI,OAAQD,IAAI,CAACE,KAAL,CAAW,CAAX,EAAcF,IAAI,CAACG,MAAL,GAAY,CAA1B,CAAR,CADJ,CAC2C;AAD3C,WAGI,OAAOC,QAAQ,CAACJ,IAAD,CAAf;AACP;;AACD,WAAO,IAAP;AACH,GATuC,CAAxC;AAWA,QAAMK,iBAAiB,GAAGlB,WAAW,CAACW,QAAD,EAAW,IAAX,CAArC;AAIAb,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAII,KAAK,CAACK,SAAN,KAAoB,IAApB,IAA4BI,QAAQ,IAAIQ,SAAxC,IAAqDR,QAAQ,KAAKT,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDC,QAAzH,EAAkI;AAC9HS,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAnB,MAAAA,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDC,QAAnD,GAA8DA,QAA9D;AACAT,MAAAA,KAAK,CAACoB,UAAN,CAAiBpB,KAAK,CAACK,SAAvB;AACH;AACJ,GANQ,EAMN,CAACW,iBAAD,CANM,CAAT;AAOA;;;;;;;;;;;;;AAcA,MAAGhB,KAAK,CAACK,SAAN,KAAoB,IAApB,IAA4BL,KAAK,CAACK,SAAN,KAAoBY,SAAnD,EAA6D;AACzD,wBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCnB,KAAK,CAACK,SAAN,GAAkB,WAAlB,GAA+B,MAAvE,EAA+E,qBAA/E,EAAsGL,KAAK,CAACQ,KAA5G,EAjDuB,CAoDvB;AACA;AACA;;AAEA,MAAIa,WAAW,GAACrB,KAAK,CAACM,IAAN,GAAaN,KAAK,CAACQ,KAAnC;AAEA,MAAIc,UAAU,GAAG,EAAjB,CA1DuB,CA0DF;;AACrB,QAAMC,KAAK,GAAG,MAAM;AAChB,UAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB9B,QAAQ,CAAC,MAAM;AACnC,UAAIK,KAAK,CAACK,SAAV,EACI,OAAQL,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDgB,IAA3D;AAEJ,aAAO,IAAP;AACH,KAL+B,CAAhC;AAMA5B,IAAAA,SAAS,CAAC,MAAM;AACZ0B,MAAAA,UAAU,GAAGE,IAAb;AACH,KAFQ,EAGP,CAACA,IAAD,CAHO,CAAT;;AAIA,QAAGvB,IAAH,EAAQ;AACJ,UAAID,KAAK,CAACQ,KAAN,KAAgB,OAApB,EACI,oBAAO;AAAQ,QAAA,KAAK,EAAE;AAACC,UAAAA,QAAQ,EAACA,QAAQ,GAAC;AAAnB,SAAf;AAAyC,QAAA,KAAK,EAAEe,IAAhD;AAAsD,QAAA,QAAQ,EAAGE,KAAD,IAAWD,OAAO,CAACC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAlF;AACS,QAAA,WAAW,EAAEP,WADtB;AACmC,QAAA,SAAS,EAAElB,UAAU,GAAC,SADzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP,CADJ,KAII,oBAAO;AAAW,QAAA,KAAK,EAAE;AAACM,UAAAA,QAAQ,EAACA,QAAQ,GAAC;AAAnB,SAAlB;AAA4C,QAAA,KAAK,EAAEe,IAAnD;AAAyD,QAAA,QAAQ,EAAGE,KAAD,IAAWD,OAAO,CAACC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAArF;AACS,QAAA,WAAW,EAAEP,WADtB;AACmC,QAAA,SAAS,EAAElB,UAAU,GAAC,SADzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAEP;;AACD,wBAAO;AAAK,MAAA,SAAS,EAAEA,UAAU,GAAC,SAA3B;AAAsC,MAAA,KAAK,EAAE;AAACM,QAAAA,QAAQ,EAACA,QAAQ,GAAC,IAAnB;AAAyBoB,QAAAA,EAAE,EAAC;AAA5B,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8EL,IAA9E,CAAP;AAEH,GArBD;;AAwBA,WAASM,YAAT,CAAsBJ,KAAtB,EAA4B;AACxBR,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCG,UAAxC;AACAtB,IAAAA,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDgB,IAAnD,GAA0DF,UAA1D;AACAtB,IAAAA,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDL,UAAnD,GAAgEA,UAAhE;AACAH,IAAAA,KAAK,CAACoB,UAAN,CAAiBpB,KAAK,CAACK,SAAvB;AACAH,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAwB,IAAAA,KAAK,CAACK,cAAN;AACH;;AAGD,WAASC,aAAT,GAAwB;AACpB9B,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH;;AAED,WAAS+B,cAAT,CAAwBC,MAAxB,EAA+B;AAC3B,UAAMvB,IAAI,GAAGI,QAAQ,CAACN,QAAD,CAArB;;AACA,QAAGE,IAAI,GAAG,CAAV,EAAY;AACRwB,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACA;AACH;;AAAC,QAAGxB,IAAI,GAAG,EAAV,EAAa;AACXwB,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACA;AACH;;AAED,UAAMC,QAAQ,GAAGC,MAAM,CAAC1B,IAAI,GAAGuB,MAAR,CAAN,GAAwB,IAAzC;AAEAlC,IAAAA,KAAK,CAACK,SAAN,CAAgBL,KAAK,CAACM,IAAtB,EAA4BN,KAAK,CAACO,EAAlC,EAAsCP,KAAK,CAACQ,KAA5C,EAAmDC,QAAnD,GAA8D2B,QAA9D;AACApC,IAAAA,KAAK,CAACoB,UAAN,CAAiBpB,KAAK,CAACK,SAAvB;AACH;;AAID,MAAGJ,IAAH,EAAQ;AACJ,wBACI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAqB,MAAA,KAAK,EAAE;AAAEqC,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,MAAM,EAAC;AAA1B,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAGb,KAAD,IAAUI,YAAY,CAACJ,KAAD,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAQ,MAAA,KAAK,EAAEvB,UAAf;AAA2B,MAAA,QAAQ,EAAGuB,KAAD,IAAWtB,aAAa,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAsB,MAAA,SAAS,EAAC,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAQ,MAAA,KAAK,EAAC,aAAd;AAA4B,MAAA,SAAS,EAAC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAQ,MAAA,KAAK,EAAC,WAAd;AAA0B,MAAA,SAAS,EAAC,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHJ,eAII;AAAQ,MAAA,KAAK,EAAC,cAAd;AAA6B,MAAA,SAAS,EAAC,cAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJJ,eAKI;AAAQ,MAAA,KAAK,EAAC,YAAd;AAA2B,MAAA,SAAS,EAAC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALJ,eAMI;AAAQ,MAAA,KAAK,EAAC,oBAAd;AAAmC,MAAA,SAAS,EAAC,oBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BANJ,eAOI;AAAQ,MAAA,KAAK,EAAC,YAAd;AAA2B,MAAA,SAAS,EAAC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,CAFJ,eAWI;AAAQ,MAAA,SAAS,EAAC,6BAAlB;AAAgD,MAAA,IAAI,EAAC,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,CADJ,CADJ;AAiBH,GAlBD,MAmBI;AAEA,wBACQ;AAAK,MAAA,SAAS,EAAC,KAAf;AAAsB,MAAA,KAAK,EAAE;AAAEU,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,MAAM,EAAC;AAA1B,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEQ;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,6BAAlB;AACM,MAAA,OAAO,EAAE,MAAIP,aAAa,EADhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAQ,MAAA,SAAS,EAAC,mCAAlB;AACM,MAAA,OAAO,EAAE,MAAItB,WAAW,CAACD,QAAQ,GAAC,CAAV,CAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAHJ,eAOI;AAAQ,MAAA,SAAS,EAAC,mCAAlB;AACQ,MAAA,OAAO,EAAE,MAAIC,WAAW,CAACD,QAAQ,GAAC,CAAV,CADhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAPJ,CAFR,CADR;AAiBH;AAEJ,CA3JD;;AA6JA,eAAeV,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Loading  from './LoadingComponent'\nimport { useDebounce } from 'use-debounce';\n\nconst EditBox = (props) => {\n\n    const [edit, setEdit] = useState(false);\n    const [fontFamily, setFontFamily] = useState(() => {\n        if (props.myContent)\n            return (props.myContent[props.type][props.id][props.field].fontFamily);\n            \n        return null;\n    })\n    const [fontSize, setFontSize] = useState(() => {\n        if (props.myContent){\n            const size = props.myContent[props.type][props.id][props.field].fontSize;\n            if (typeof size == \"string\" && size.indexOf(\"px\") >-1) \n                return (size.slice(0, size.length-2)); // to remove the \"px\" if exist\n            else \n                return(parseInt(size))\n        }\n        return null;\n    })\n\n    const debouncedFontSize = useDebounce(fontSize, 2000);\n\n\n\n    useEffect(() => {\n        if (props.myContent !== null && fontSize != undefined && fontSize !== props.myContent[props.type][props.id][props.field].fontSize){\n            console.log(\"debounce\")\n            props.myContent[props.type][props.id][props.field].fontSize = fontSize;\n            props.putContent(props.myContent);\n        }\n    }, [debouncedFontSize]);\n    /*\n    var delay;\n    useEffect(() => {\n        if (props.myContent !== null && fontSize != undefined && fontSize !== props.myContent[props.type][props.id][props.field].fontSize){\n            const func = debounce(() => {\n                console.log(\"debounce\")\n                props.myContent[props.type][props.id][props.field].fontSize = fontSize;\n                props.putContent(props.myContent);\n            }, 3000) \n            func();\n    } }, [fontSize]);\n*/\n\n    \n    if(props.myContent === null || props.myContent === undefined){\n        return <Loading/>\n    } \n    \n    console.log(\"EditBox: props.myContent\", props.myContent ? \"myContent\": \"null\", \" props.feild_name: \", props.field)\n\n    \n    //props.field   title/description\n    //props.id      0/1/2..\n    //props.type    head/dish/\n\n    var placeHolder=props.type + props.field;\n\n    var parentText = \"\"; // help to conect ti Input component state with the perent component (EditBox)\n    const Input = () => {\n        const [text, setText] = useState(() => {\n            if (props.myContent)\n                return (props.myContent[props.type][props.id][props.field].text);\n                \n            return null;\n        })\n        useEffect(() => {\n            parentText = text;     \n        }\n        , [text])\n        if(edit){\n            if (props.field === \"title\")\n                return <input  style={{fontSize:fontSize+\"px\"}} value={text} onChange={(event) => setText(event.target.value)}\n                                placeholder={placeHolder} className={fontFamily+\" col-12\"}/>\n            else\n                return <textarea  style={{fontSize:fontSize+\"px\"}} value={text} onChange={(event) => setText(event.target.value)}\n                                placeholder={placeHolder} className={fontFamily+\" col-12\"}/>\n        }\n        return <div className={fontFamily+\" col-12\"} style={{fontSize:fontSize+\"px\", mb:0}}>{text}</div> \n        \n    }    \n    \n  \n    function handleSubmit(event){\n        console.log(\"handleSubmit, parentText\", parentText)\n        props.myContent[props.type][props.id][props.field].text = parentText\n        props.myContent[props.type][props.id][props.field].fontFamily = fontFamily\n        props.putContent(props.myContent);\n        setEdit(false)\n        event.preventDefault();\n    }\n\n\n    function handleOnClick(){\n        setEdit(true);\n    }\n\n    function handleFontSize(amount){\n        const size = parseInt(fontSize)\n        if(size < 8){\n            alert(\"this is the minimum size\");\n            return;\n        } if(size > 60){\n            alert(\"this is the maximum size\");\n            return;\n        } \n\n        const new_size = String(size + amount) + \"px\";\n\n        props.myContent[props.type][props.id][props.field].fontSize = new_size;\n        props.putContent(props.myContent);\n    }\n\n\n    \n    if(edit){\n        return(\n            <div className=\"row\" style={{ padding: \"10px\", margin:\"0px\"}}>\n                <form onSubmit={(event)=> handleSubmit(event)}>\n                    <Input/>\n                    <select value={fontFamily} onChange={(event) => setFontFamily(event.target.value)}>\n                        <option value=\"sofia\" className=\"sofia\">Sofia</option>\n                        <option value=\"indieFlower\" className=\"indieFlower\">Indie Flower</option>\n                        <option value=\"courgette\" className=\"courgette\">Courgette</option>\n                        <option value=\"courierPrime\" className=\"courierPrime\">Courier Prime</option>\n                        <option value=\"secularOne\" className=\"secularOne\">Secular One</option>\n                        <option value=\"architectsDaughter\" className=\"architectsDaughter\">Architects Daughter</option>\n                        <option value=\"sacramento\" className=\"sacramento\">Sacramento</option>\n                    </select>\n                    <button className=\"edit-save btn btn-secondary\" type=\"submit\" >save</button> \n                </form>\n            </div>\n        );\n    }\n    else{\n\n        return(\n                <div className=\"row\"  style={{ padding: \"10px\", margin:\"0px\"}}>\n                    <Input/>\n                        <div className=\"col-12\" >\n                            <button className=\"edit-save btn btn-secondary\" \n                                  onClick={()=>handleOnClick()}>edit</button>\n                            <button className=\"edit-save-arrow btn btn-secondary\" \n                                  onClick={()=>setFontSize(fontSize+2)}>\n                                <span className=\"fa fa-angle-up\"></span>\n                            </button>\n                            <button className=\"edit-save-arrow btn btn-secondary\" \n                                    onClick={()=>setFontSize(fontSize-2)}>\n                                <span className=\"fa fa-angle-down\"></span>\n                            </button>\n                        </div>\n                </div>\n        );\n    }\n\n}\n\nexport default EditBox;"]},"metadata":{},"sourceType":"module"}