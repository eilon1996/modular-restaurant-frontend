{"ast":null,"code":"import _classCallCheck from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{Card,CardImg,CardText,CardBody,CardTitle}from'reactstrap';import{Link}from'react-router-dom';import{Breadcrumb,BreadcrumbItem,Button,Modal,ModalBody,ModalHeader,Label,Col,Row}from'reactstrap';import{Control,LocalForm,Errors}from'react-redux-form';import{Loading}from'./LoadingComponent';import{baseUrl}from'../shared/baseUrl';import{FadeTransform,Fade,Stagger}from'react-animation-components';var required=function required(val){return val&&val.length;};var maxLength=function maxLength(len){return function(val){return!val||val.length<=len;};};var minLength=function minLength(len){return function(val){return!val||val.length>=len;};};function RenderDish(_ref){var dish=_ref.dish;return/*#__PURE__*/React.createElement(FadeTransform,{in:true,transformProps:{exitTransform:'scale(0.5) translateY(-50%)'}},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardImg,{top:true,src:baseUrl+dish.image,alt:dish.name}),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardTitle,null,dish.name),/*#__PURE__*/React.createElement(CardText,null,dish.description))));}function RenderComments(_ref2){var comments=_ref2.comments,postComment=_ref2.postComment,dishId=_ref2.dishId;var comments_text=comments.map(function(comment){return/*#__PURE__*/React.createElement(Fade,{in:true},/*#__PURE__*/React.createElement(\"li\",{className:\"list-unstyled\",key:comment.id},/*#__PURE__*/React.createElement(\"p\",null,comment.comment,\" \",/*#__PURE__*/React.createElement(\"br\",null),\"--\",comment.author,\",\",new Intl.DateTimeFormat('en-US',{year:'numeric',month:'short',day:'2-digit'}).format(new Date(Date.parse(comment.date))))));//we use here in a script that translate date to readble date\n});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,\"comments\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"list-gruop\"},/*#__PURE__*/React.createElement(Stagger,{in:true},comments_text)),/*#__PURE__*/React.createElement(CommentForm,{dishId:dishId,postComment:postComment}));//we use here in a script that translate date to readble date\n}var CommentForm=/*#__PURE__*/function(_Component){_inherits(CommentForm,_Component);var _super=_createSuper(CommentForm);function CommentForm(props){var _this;_classCallCheck(this,CommentForm);_this=_super.call(this,props);_this.state={isNavOpen:false,isModalOpen:false};// necessary for using \"this\" in the callback\n_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.toggleModal=_this.toggleModal.bind(_assertThisInitialized(_this));return _this;}_createClass(CommentForm,[{key:\"toggleModal\",value:function toggleModal(){this.setState({isModalOpen:!this.state.isModalOpen});}},{key:\"handleSubmit\",value:function handleSubmit(values){this.toggleModal();this.props.postComment(this.props.dishId,values.rating,values.author,values.comment);alert(\"current state is: \"+JSON.stringify(values));}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(Button,{outline:true,onClick:this.toggleModal,className:\"ml-auto\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-pencil fa-lg\"}),\" Submit Comment\")),/*#__PURE__*/React.createElement(Modal,{outline:true,isOpen:this.state.isModalOpen,toggle:this.toggleModal},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModal},\"Submit Comment\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(LocalForm,{onSubmit:function onSubmit(values){return _this2.handleSubmit(values);}},/*#__PURE__*/React.createElement(Row,{className:\"form-group\"},/*#__PURE__*/React.createElement(Col,{md:{size:12}},/*#__PURE__*/React.createElement(Control.select,{model:\".rating\",name:\"rating\",value:this.props.rating},/*#__PURE__*/React.createElement(\"option\",null,\"5\"),/*#__PURE__*/React.createElement(\"option\",null,\"4\"),/*#__PURE__*/React.createElement(\"option\",null,\"3\"),/*#__PURE__*/React.createElement(\"option\",null,\"2\"),/*#__PURE__*/React.createElement(\"option\",null,\"1\")))),/*#__PURE__*/React.createElement(Row,{className:\"form-group\"},/*#__PURE__*/React.createElement(Label,{htmlFor:\"author\",md:{size:12}},\"Your Name\"),/*#__PURE__*/React.createElement(Col,{md:{size:12}},/*#__PURE__*/React.createElement(Control.text,{model:\".author\",id:\"author\",name:\"author\",placeholder:\"Your Name\",className:\"form-control\",onChange:this.handleInputChange,validators:{required:required,minLength:minLength(3),maxLength:maxLength(15)},value:this.props.author}),/*#__PURE__*/React.createElement(Errors,{className:\"text-danger\",model:\".author\",show:\"touched\",messages:{required:'Requierd ',minLength:'Must be greater than 2 characters ',maxLength:'Must be 15 characters or less '}}))),/*#__PURE__*/React.createElement(Row,{className:\"form-group\"},/*#__PURE__*/React.createElement(Label,{htmlFor:\"comment\",md:{size:12}},\"Comment\"),/*#__PURE__*/React.createElement(Col,{md:{size:12}},/*#__PURE__*/React.createElement(Control.textarea,{model:\".comment\",id:\"comment\",name:\"comment\",rows:\"6\",className:\"form-control\",value:this.props.comment}))),/*#__PURE__*/React.createElement(Row,{className:\"form-group\"},/*#__PURE__*/React.createElement(Col,{md:{size:12}},/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"primary\"},\"Submit\")))))));}}]);return CommentForm;}(Component);var DishDetail=/*#__PURE__*/function(_Component2){_inherits(DishDetail,_Component2);var _super2=_createSuper(DishDetail);function DishDetail(props){_classCallCheck(this,DishDetail);return _super2.call(this,props);}_createClass(DishDetail,[{key:\"render\",value:function render(){if(this.props.isLoading){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h3\",null,\"aaaa\"),/*#__PURE__*/React.createElement(Loading,null)));}else if(this.props.errMess){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",null,this.props.errMess));}return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Breadcrumb,null,/*#__PURE__*/React.createElement(BreadcrumbItem,null,/*#__PURE__*/React.createElement(Link,{to:\"/menu\"},\"Menu\")),/*#__PURE__*/React.createElement(BreadcrumbItem,{active:true},this.props.dish.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h3\",null,this.props.dish.name),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-5 m-1\"},/*#__PURE__*/React.createElement(RenderDish,{dish:this.props.dish})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-5 m-1\"},/*#__PURE__*/React.createElement(RenderComments,{comments:this.props.comments,postComment:this.props.postComment,dishId:this.props.dish.id}))));}}]);return DishDetail;}(Component);export default DishDetail;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/src/component/DishdetailComponent.js"],"names":["React","Component","Fragment","Card","CardImg","CardText","CardBody","CardTitle","Link","Breadcrumb","BreadcrumbItem","Button","Modal","ModalBody","ModalHeader","Label","Col","Row","Control","LocalForm","Errors","Loading","baseUrl","FadeTransform","Fade","Stagger","required","val","length","maxLength","len","minLength","RenderDish","dish","exitTransform","image","name","description","RenderComments","comments","postComment","dishId","comments_text","map","comment","id","author","Intl","DateTimeFormat","year","month","day","format","Date","parse","date","CommentForm","props","state","isNavOpen","isModalOpen","handleSubmit","bind","toggleModal","setState","values","rating","alert","JSON","stringify","size","handleInputChange","DishDetail","isLoading","errMess"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport { Card, CardImg, CardText, CardBody, CardTitle} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem, Button, Modal, ModalBody, ModalHeader, Label, Col , Row } from 'reactstrap'\nimport { Control, LocalForm, Errors} from 'react-redux-form';\nimport {Loading} from './LoadingComponent';\nimport { baseUrl } from '../shared/baseUrl';\nimport { FadeTransform, Fade, Stagger } from 'react-animation-components';\n\nconst required = (val) => val && val.length;\nconst maxLength = (len) => val => !(val) || (val.length <= len)\nconst minLength = (len) => val => !(val) || (val.length >= len)\n\n\nfunction RenderDish({dish}){\n    return(\n        <FadeTransform in transformProps={{ exitTransform: 'scale(0.5) translateY(-50%)' }}>\n        <Card>\n            <CardImg top src={baseUrl + dish.image} alt={dish.name} />\n            <CardBody>\n                <CardTitle>{dish.name}</CardTitle>\n                <CardText>{dish.description}</CardText>\n            </CardBody>\n        </Card>\n        </FadeTransform>\n    );\n}\n\nfunction RenderComments({comments, postComment, dishId}){\n    const comments_text = comments.map((comment)=>{\n        return (\n\n            <Fade in>\n                <li className=\"list-unstyled\" key={comment.id}>\n                    <p>\n                        {comment.comment} <br/>\n                        --{comment.author},\n                        {new Intl.DateTimeFormat('en-US', { year: 'numeric', month: 'short', day: '2-digit'})\n                            .format(new Date(Date.parse(comment.date)))}\n                    </p>\n                </li>\n            </Fade>\n        );\n        //we use here in a script that translate date to readble date\n    });\n\n    return(\n        <div>\n            <h4>comments</h4>\n            <ul className=\"list-gruop\">\n                <Stagger in>\n                    {comments_text}\n                </Stagger>\n            </ul>\n            <CommentForm dishId={dishId} postComment={postComment} />\n        </div>\n    )\n    //we use here in a script that translate date to readble date\n}\n\n\nclass CommentForm extends Component{\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            isNavOpen: false,\n            isModalOpen: false\n        };\n        // necessary for using \"this\" in the callback\n        \n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n     }\n\n    toggleModal() {\n        this.setState({ isModalOpen: !this.state.isModalOpen });\n    }\n\n\n    handleSubmit(values){\n        this.toggleModal();\n        this.props.postComment(this.props.dishId, values.rating, values.author, values.comment);\n        alert(\"current state is: \" + JSON.stringify(values));\n    }\n\n\n    render(){     \n        return (\n            <Fragment>\n                <div className=\"row\">\n                    <Button outline onClick={this.toggleModal} className='ml-auto'>\n                        <span className='fa fa-pencil fa-lg'></span> Submit Comment\n                    </Button>\n                </div>\n                <Modal outline isOpen={this.state.isModalOpen} toggle={this.toggleModal}>\n                    <ModalHeader toggle={this.toggleModal}>Submit Comment</ModalHeader>\n                    <ModalBody>\n\n                        <LocalForm onSubmit={(values) => this.handleSubmit(values)}>\n                            \n                            <Row className=\"form-group\">\n                                <Col md={{ size: 12 }}>\n                                    <Control.select model=\".rating\" name=\"rating\"\n                                        value={this.props.rating}>\n                                        <option>5</option>\n                                        <option>4</option>\n                                        <option>3</option>\n                                        <option>2</option>\n                                        <option>1</option>\n                                    </Control.select>\n                                </Col>\n                            </Row>\n                            <Row className=\"form-group\">\n                                <Label htmlFor=\"author\" md={{ size: 12 }}>Your Name</Label>\n                                <Col md={{ size: 12 }}>\n                                    <Control.text model=\".author\" id=\"author\" name=\"author\" placeholder=\"Your Name\" \n                                        className=\"form-control\" onChange={this.handleInputChange}\n                                        validators={{required, minLength:minLength(3), maxLength:maxLength(15)}}\n                                        value={this.props.author}/>\n                                    <Errors className=\"text-danger\" model=\".author\"\n                                    show=\"touched\" \n                                    messages={{\n                                            required: 'Requierd ',\n                                            minLength: 'Must be greater than 2 characters ',\n                                            maxLength: 'Must be 15 characters or less '\n                                    }}>\n                                    </Errors>\n                                </Col>\n                            </Row>\n                            <Row className=\"form-group\">\n                                <Label htmlFor=\"comment\" md={{ size: 12 }}>Comment</Label>\n                                <Col md={{ size: 12 }}> \n                                    <Control.textarea model=\".comment\" id=\"comment\" name=\"comment\"\n                                        rows=\"6\" className=\"form-control\"  value={this.props.comment}/>\n                                </Col>\n                            </Row>\n                            <Row className=\"form-group\">\n                                <Col md={{ size: 12 }}>\n                                    <Button type=\"submit\" color=\"primary\">\n                                        Submit\n                                    </Button>\n                                </Col>\n                            </Row>\n                        </LocalForm>\n                    </ModalBody>\n                </Modal>\n            </Fragment>\n        );\n    }\n}\n\nclass DishDetail extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        if (this.props.isLoading){\n            return (\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <h3>aaaa</h3>\n                        <Loading/>\n                    </div>\n                </div>\n            );\n        }else if(this.props.errMess){\n            return (\n            <div>\n                <h4>{this.props.errMess}</h4>\n            </div>\n            );\n        }\n            return(\n                <div className=\"container\">\n                    <Breadcrumb>\n                        <BreadcrumbItem><Link to=\"/menu\">Menu</Link></BreadcrumbItem>\n                        <BreadcrumbItem active>{this.props.dish.name}</BreadcrumbItem>\n                    </Breadcrumb>\n                    <div className=\"col-12\">\n                        <h3>{this.props.dish.name}</h3>\n                        <hr />\n                    </div>       \n                    <div className=\"row\">\n                        <div className=\"col-12 col-md-5 m-1\">\n                            <RenderDish dish={this.props.dish}/>\n                        </div>\n                        <div className=\"col-12 col-md-5 m-1\">\n                            <RenderComments comments={this.props.comments} \n                                postComment={this.props.postComment} \n                                dishId={this.props.dish.id}/>\n                        </div>\n                    </div>         \n                </div>\n            );\n        }\n}\n    \nexport default DishDetail;"]},"metadata":{},"sourceType":"module"}