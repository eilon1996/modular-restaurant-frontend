{"ast":null,"code":"import _slicedToArray from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState}from'react';import{Navbar,NavbarBrand,Nav,NavbarToggler,Collapse,NavItem,Jumbotron,Button,Modal,ModalHeader,ModalBody,Form,FormGroup,Input,Label}from'reactstrap';// nav link auto maticly impliment the active component and a tag\nimport{NavLink}from'react-router-dom';import EditBox from'./EditBoxComponent';import{Tabs,Tab}from\"react-bootstrap\";import initialContent from'../redux/initialContent';var Header=function Header(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isNavOpen=_useState2[0],setIsNavOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState(\"login\"),_useState6=_slicedToArray(_useState5,2),modalTab=_useState6[0],setModalTab=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUsername=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),rePassword=_useState12[0],setRePassword=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),loginError=_useState14[0],setLoginError=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),signupError=_useState16[0],setSignupError=_useState16[1];// TODO set the signup\n// setup\nconsole.log(\"HeaderComponent: render, myContent\",props.myContent);var myContent=null;var title=\"\";if(props.myContent===null){myContent=initialContent;}else{myContent=props.myContent;}function handleLogin(event){var tmpError=\"\";setLoginError(\"\");var userIndex=props.content.findIndex(function(user){return user.id===String(username.value);});if(userIndex>0){if(props.content[userIndex].password===String(password.value)){props.setMyContent(username.value);setIsModalOpen(!isModalOpen);event.preventDefault();}else{//wrong password\ntmpError=\"wrong password or user name\";}}else{//create new user?\ntmpError=\"user name not found\\nyou can easily creat new account in the sign up\";}if(tmpError!==\"\"){setLoginError(tmpError);}}function handleSignup(event){var tmpError=\"\";setSignupError(\"\");if(rePassword.value!==password.value){tmpError=\"passwords not match\\n\";}var userIndex=props.content.findIndex(function(user){return user.id===String(username.value);});if(userIndex>0){tmpError+=\"user name already exist\";}if(tmpError!==\"\"){setSignupError(tmpError);}else{var fields=[username.value,password.value,myContent.title,myContent.titleFontSize,myContent.description,myContent.descriptionFontSize];props.signup(fields);}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,{dark:true,expand:\"md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(NavbarToggler,{onClick:function onClick(){return setIsNavOpen(!isNavOpen);}}),/*#__PURE__*/React.createElement(NavbarBrand,{className:\"mr-auto\",href:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:\"assets/images/logo.png\",height:\"30\",width:\"41\",alt:title})),/*#__PURE__*/React.createElement(Collapse,{isOpen:isNavOpen,navbar:true},/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link ml-md-5 offset-2 offset-md-0\",to:\"/home\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-home\"}),\" Home\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link offset-2 offset-md-0\",to:\"/aboutus\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-info\"}),\" About Us\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link offset-2 offset-md-0\",to:\"/menu\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-list\"}),\" Menu\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link offset-2 offset-md-0\",to:\"/contactus\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-address-card\"}),\" Contact US\"))),/*#__PURE__*/React.createElement(Nav,{className:\"ml-auto\",navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(Button,{outline:true,onClick:function onClick(){return setIsModalOpen(!isModalOpen);},className:\"nav-link offset-2 offset-md-0\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-sign-in\"}),\" Login\")))))),/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row row-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-sm-6\"},/*#__PURE__*/React.createElement(EditBox,{field_name:\"title\",putContent:props.putContent,myContent:myContent}),/*#__PURE__*/React.createElement(EditBox,{field_name:\"description\",putContent:props.putContent,myContent:myContent}))))),/*#__PURE__*/React.createElement(Modal,{isOpen:isModalOpen,toggle:function toggle(){return setIsModalOpen(!isModalOpen);}},/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Tabs,{id:\"controlled-tab-example\",activeKey:modalTab,onSelect:function onSelect(k){return setModalTab(k);}},/*#__PURE__*/React.createElement(Tab,{eventKey:\"login\",title:\"login\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"username\",name:\"username\",innerRef:function innerRef(input){return setUsername(input);}})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",id:\"password\",name:\"password\",innerRef:function innerRef(input){return setPassword(input);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(FormGroup,{className:\" offset-1 col-5\"},/*#__PURE__*/React.createElement(Label,{check:true,className:\"col-12\"},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"remember\"}),\"Remember me\")),/*#__PURE__*/React.createElement(Button,{className:\" offset-1 col-4\",onClick:handleLogin,color:\"primary\"},\"Login\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"strong\",{className:\" offset-1 col-11\"},loginError)))),/*#__PURE__*/React.createElement(Tab,{eventKey:\"signUp\",title:\"sign up\"},/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"username\",name:\"username\",innerRef:function innerRef(input){return setUsername(input);}})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",id:\"password\",name:\"password\",innerRef:function innerRef(input){return setPassword(input);}})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{htmlFor:\"rePassword\"},\"Re-enter Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",id:\"rePassword\",name:\"rePassword\",innerRef:function innerRef(input){return setRePassword(input);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(FormGroup,{className:\" offset-1 col-5\"},/*#__PURE__*/React.createElement(Label,{check:true,className:\"col-12\"},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"remember\"}),\"Remember me\")),/*#__PURE__*/React.createElement(Button,{className:\" offset-1 col-4\",onClick:handleSignup,color:\"primary\"},\"Login\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"strong\",{className:\" offset-1 col-11\"},signupError))))))));};export default Header;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/src/component/HeaderComponent.js"],"names":["React","Component","useState","Navbar","NavbarBrand","Nav","NavbarToggler","Collapse","NavItem","Jumbotron","Button","Modal","ModalHeader","ModalBody","Form","FormGroup","Input","Label","NavLink","EditBox","Tabs","Tab","initialContent","Header","props","isNavOpen","setIsNavOpen","isModalOpen","setIsModalOpen","modalTab","setModalTab","username","setUsername","password","setPassword","rePassword","setRePassword","loginError","setLoginError","signupError","setSignupError","console","log","myContent","title","handleLogin","event","tmpError","userIndex","content","findIndex","user","id","String","value","setMyContent","preventDefault","handleSignup","fields","titleFontSize","description","descriptionFontSize","signup","putContent","k","input"],"mappings":"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","sourcesContent":["import React, {Component, useState } from 'react';\r\nimport {Navbar, NavbarBrand, Nav, NavbarToggler, Collapse, NavItem, Jumbotron,\r\n     Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Input, Label} from 'reactstrap'\r\n// nav link auto maticly impliment the active component and a tag\r\nimport {NavLink} from 'react-router-dom';\r\nimport EditBox from './EditBoxComponent';\r\nimport {Tabs, Tab} from \"react-bootstrap\" ;\r\nimport initialContent from '../redux/initialContent'\r\n\r\nconst Header = (props) => {\r\n\r\n    const [isNavOpen, setIsNavOpen] = useState(false);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [modalTab, setModalTab] = useState(\"login\");\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [rePassword, setRePassword] = useState(\"\");\r\n    const [loginError, setLoginError] = useState(\"\");\r\n    const [signupError, setSignupError] = useState(\"\");\r\n\r\n    // TODO set the signup\r\n\r\n\r\n    // setup\r\n    console.log(\"HeaderComponent: render, myContent\", props.myContent)\r\n    var myContent = null;\r\n    var title = \"\"\r\n\r\n    if(props.myContent === null){\r\n        myContent = initialContent;\r\n    } else{\r\n        myContent = props.myContent;\r\n    }\r\n\r\n    function handleLogin(event){\r\n        var tmpError = \"\";\r\n        setLoginError(\"\");\r\n        \r\n        const userIndex = props.content.findIndex((user) => user.id === String(username.value));\r\n        if(userIndex > 0){\r\n            if(props.content[userIndex].password === String(password.value)){\r\n                props.setMyContent(username.value)\r\n                setIsModalOpen(!isModalOpen);\r\n                event.preventDefault();\r\n            }\r\n            else{\r\n                //wrong password\r\n                tmpError = \"wrong password or user name\";\r\n            }\r\n        }\r\n        else{\r\n            //create new user?\r\n            tmpError = \"user name not found\\nyou can easily creat new account in the sign up\";\r\n        }\r\n    \r\n        if(tmpError !== \"\"){\r\n            setLoginError(tmpError);\r\n        }\r\n    \r\n    }\r\n\r\n    function handleSignup(event){\r\n        var tmpError = \"\";\r\n        setSignupError(\"\");\r\n        \r\n        if(rePassword.value !== password.value){\r\n            tmpError = \"passwords not match\\n\";\r\n        }\r\n        const userIndex = props.content.findIndex((user) => user.id === String(username.value));\r\n        if(userIndex > 0){\r\n            tmpError += \"user name already exist\";\r\n        }\r\n        \r\n        if(tmpError !== \"\"){\r\n            setSignupError(tmpError);\r\n        }\r\n        else{\r\n            const fields = [username.value, password.value, myContent.title, myContent.titleFontSize,\r\n                myContent.description , myContent.descriptionFontSize];\r\n            props.signup(fields)\r\n        }\r\n    \r\n    }\r\n\r\n    \r\n  \r\n    return(\r\n        <React.Fragment>\r\n            <Navbar dark expand=\"md\">\r\n                <div className=\"container\">\r\n                    <NavbarToggler onClick={() => setIsNavOpen(!isNavOpen)}/>\r\n                    <NavbarBrand className='mr-auto' href=\"/\">\r\n                        <img src='assets/images/logo.png' height=\"30\" width=\"41\"\r\n                            alt={title}/>\r\n                    </NavbarBrand>\r\n                    <Collapse isOpen={isNavOpen} navbar>\r\n                        <Nav navbar>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link ml-md-5 offset-2 offset-md-0\" to=\"/home\">\r\n                                    <span className=\"fa fa-home\"></span> Home\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/aboutus\">\r\n                                    <span className=\"fa fa-info\"></span> About Us\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/menu\">\r\n                                    <span className=\"fa fa-list\"></span> Menu\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/contactus\">\r\n                                    <span className=\"fa fa-address-card\"></span> Contact US\r\n                                </NavLink>\r\n                            </NavItem>\r\n                        </Nav>\r\n                        <Nav className=\"ml-auto\" navbar>\r\n                            <NavItem >\r\n                                <Button outline onClick={() => setIsModalOpen(!isModalOpen)} className=\"nav-link offset-2 offset-md-0\"><span className=\"fa fa-sign-in\"></span> Login</Button>\r\n                            </NavItem>\r\n                        </Nav>\r\n                    </Collapse>\r\n                </div>\r\n            </Navbar>\r\n            <Jumbotron>\r\n                <div className=\"container\">\r\n                    <div className='row row-header'>\r\n                        <div className='col-12 col-sm-6'>\r\n                            <EditBox field_name=\"title\" putContent ={ props.putContent} myContent={myContent}/>\r\n                            <EditBox field_name=\"description\" putContent ={ props.putContent} myContent={myContent}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Jumbotron>\r\n            <Modal isOpen={isModalOpen} toggle={() => setIsModalOpen(!isModalOpen)}>\r\n                <ModalBody>\r\n\r\n                    <Tabs\r\n                    id=\"controlled-tab-example\"\r\n                    activeKey={modalTab}\r\n                    onSelect={(k) => setModalTab(k)}\r\n                    >\r\n                        <Tab eventKey=\"login\" title=\"login\">\r\n                            <Form>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"username\">Username</Label>\r\n                                    <Input type=\"text\" id=\"username\" name=\"username\"\r\n                                        innerRef={(input) => setUsername(input)} />\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"password\">Password</Label>\r\n                                    <Input type=\"password\" id=\"password\" name=\"password\"\r\n                                        innerRef={(input) => setPassword(input)}  />\r\n                                </FormGroup>\r\n                                <div className='row'>\r\n                                <FormGroup className=\" offset-1 col-5\">\r\n                                    <Label check  className=\"col-12\">\r\n                                        <Input type=\"checkbox\" name=\"remember\"/>\r\n                                        Remember me\r\n                                    </Label>\r\n                                </FormGroup>\r\n                                        <Button className=\" offset-1 col-4\" onClick={handleLogin} color=\"primary\">Login</Button>\r\n                                    </div>\r\n                                <div className='row'>\r\n                                <strong className=\" offset-1 col-11\">{loginError}</strong>\r\n                                </div>\r\n                            </Form>\r\n\r\n                        </Tab>\r\n\r\n                        <Tab eventKey=\"signUp\" title=\"sign up\">\r\n                            <Form>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"username\">Username</Label>\r\n                                    <Input type=\"text\" id=\"username\" name=\"username\"\r\n                                        innerRef={(input) => setUsername(input)} />\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"password\">Password</Label>\r\n                                    <Input type=\"password\" id=\"password\" name=\"password\"\r\n                                        innerRef={(input) => setPassword(input)}  />\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label htmlFor=\"rePassword\">Re-enter Password</Label>\r\n                                    <Input type=\"password\" id=\"rePassword\" name=\"rePassword\"\r\n                                        innerRef={(input) => setRePassword(input)}  />\r\n                                </FormGroup>\r\n                                <div className='row'>\r\n                                <FormGroup className=\" offset-1 col-5\">\r\n                                    <Label check  className=\"col-12\">\r\n                                        <Input type=\"checkbox\" name=\"remember\"/>\r\n                                        Remember me\r\n                                    </Label>\r\n                                </FormGroup>\r\n                                        <Button className=\" offset-1 col-4\" onClick={handleSignup} color=\"primary\">Login</Button>\r\n                                    </div>\r\n                                <div className='row'>\r\n                                <strong className=\" offset-1 col-11\">{signupError}</strong>\r\n                                </div>\r\n                            </Form>\r\n                        </Tab>\r\n                    </Tabs>\r\n                </ModalBody>\r\n            </Modal>\r\n        </React.Fragment>\r\n    );\r\n   \r\n\r\n}\r\n\r\nexport default Header"]},"metadata":{},"sourceType":"module"}