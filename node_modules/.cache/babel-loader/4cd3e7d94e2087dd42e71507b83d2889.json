{"ast":null,"code":"var _jsxFileName = \"/home/eilon/programing/full-stack/confusion-clone/confusion/src/component/Header.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useDebounce } from 'use-debounce';\nimport { Navbar, NavbarBrand, Nav, NavbarToggler, Collapse, NavItem, Jumbotron, Button, Modal, ModalBody } from 'reactstrap'; // nav link auto maticly impliment the active component and a tag\n\nimport { NavLink } from 'react-router-dom';\nimport EditBox from './EditBox';\nimport { Tabs, Tab } from \"react-bootstrap\";\nimport { LogoUrl } from '../shared/externalUrl';\nimport { useForm } from 'react-hook-form';\nimport Loading from './Loading'; //import {addMyContent} from '../redux/ActionCreators'\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { putContent, signup, fetchMyContent } from '../redux/ActionCreators';\nimport ColorPicker from 'react-color-picker-wheel';\n\nconst Header = props => {\n  const [{\n    myContent,\n    isLoading\n  }, {\n    content\n  }] = useSelector(store => [store.myContent, store.content]);\n  const dispatch = useDispatch();\n  const [isNavOpen, setIsNavOpen] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalTab, setModalTab] = useState(\"login\");\n  const [loginUsername, setLoginUsername] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [signupUsername, setSignupUsername] = useState(\"\");\n  const [signupPassword, setSignupPassword] = useState(\"\");\n  const [signupRePassword, setSignupRePassword] = useState(\"\");\n  const [color, setColor] = useState(() => {\n    if (myContent) {\n      return myContent.color;\n    }\n\n    return null;\n  });\n  const [debounce] = useDebounce(color, 1000);\n  const [loginError, setLoginError] = useState(null);\n  const [signupError, setSignupError] = useState(\"\");\n  var loginBorderColor = null;\n  var signupBorderColor = null; //var loginBorderColor = null;\n  //var loginBorderColor = null;\n  // setup\n\n  const {\n    register,\n    errors\n  } = useForm();\n  useEffect(() => {\n    console.log(\"color1\", color);\n\n    if (color && myContent.color !== color) {\n      console.log(\"color2\", color);\n      myContent.color = color;\n      dispatch(putContent(myContent));\n    }\n  }, [debounce]);\n\n  if (myContent === null || isLoading === true) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 16\n      }\n    });\n  }\n\n  function handleLogin(event) {\n    console.log({\n      loginUsername,\n      loginPassword\n    });\n    var tmpError = null;\n    const userContent = Object.values(content).filter(user => user.id === loginUsername)[0];\n\n    if (userContent) {\n      event.preventDefault();\n\n      if (userContent.password === loginPassword) {\n        setLoginError(null);\n        dispatch(fetchMyContent(loginUsername));\n        setIsModalOpen(!isModalOpen);\n      } else {\n        //wrong password\n        tmpError = /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 28\n          }\n        }, \"wrong password or user name\");\n      }\n    } else {\n      //create new user?\n      event.preventDefault();\n      tmpError = /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 24\n        }\n      }, \"user name not found\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 70\n        }\n      }), \"you can easily creat new account in the sign up\");\n    }\n\n    if (tmpError !== \"\") {\n      setLoginError(tmpError);\n    }\n  }\n\n  function handleSignup(event) {\n    console.log({\n      signupUsername,\n      signupPassword,\n      signupRePassword\n    });\n    var tmpError = \"\";\n\n    if (signupRePassword !== signupPassword) {\n      tmpError = /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 24\n        }\n      }, \"passwords not match\");\n    }\n\n    const userContent = Object.values(content).filter(user => user.id === signupUsername)[0];\n    if (userContent !== null && userContent !== undefined) tmpError = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 24\n      }\n    }, \"user name already exist\");\n    loginBorderColor = \"green\";\n    event.preventDefault();\n\n    if (tmpError !== \"\") {\n      setSignupError(tmpError);\n    } else {\n      loginBorderColor = null;\n      setSignupError(null);\n      myContent.id = signupUsername;\n      myContent.password = signupPassword;\n      dispatch(signup(myContent)); //intial user 0\n    }\n  }\n\n  function componentToHex(c) {\n    var hex = c.toString(16);\n    return hex.length === 1 ? \"0\" + hex : hex;\n  }\n\n  function rgbToHex(rgb) {\n    const hex = \"#\" + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\n    return hex;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    dark: true,\n    expand: \"md\",\n    style: {\n      backgroundColor: \"rgba(\" + [...color.map(c => c / 2), 1] + \")\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NavbarToggler, {\n    onClick: () => setIsNavOpen(!isNavOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(NavbarBrand, {\n    className: \"mr-auto\",\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: LogoUrl,\n    height: \"30\",\n    width: \"41\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Collapse, {\n    isOpen: isNavOpen,\n    navbar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    navbar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"nav-link ml-md-5 offset-2 offset-md-0\",\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  }), \" Home\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"nav-link offset-2 offset-md-0\",\n    to: \"/aboutus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }), \" About Us\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"nav-link offset-2 offset-md-0\",\n    to: \"/menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 37\n    }\n  }), \" Menu\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"nav-link offset-2 offset-md-0\",\n    to: \"/contactus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-address-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 37\n    }\n  }), \" Contact US\"))), /*#__PURE__*/React.createElement(Nav, {\n    className: \"ml-auto\",\n    navbar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    outline: true,\n    onClick: () => setIsModalOpen(!isModalOpen),\n    className: \"nav-link offset-2 offset-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-sign-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 136\n    }\n  }), \" Login\")))))), /*#__PURE__*/React.createElement(Jumbotron, {\n    style: {\n      backgroundColor: \"rgba(\" + [...color, 1] + \")\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      margin: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }, \"Design Your Restaurant\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(EditBox, {\n    path: myContent.id,\n    field: \"title\",\n    type: \"head\",\n    id: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(EditBox, {\n    path: myContent.id,\n    field: \"description\",\n    type: \"head\",\n    id: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-1 div-ColorPicker\",\n    style: {\n      marginLeft: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(ColorPicker, {\n    onChange: c => setColor(Object.values(c[\"rgb\"])),\n    size: 240,\n    initialColor: rgbToHex(color),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }))))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isModalOpen,\n    toggle: () => setIsModalOpen(!isModalOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    id: \"controlled-tab-example\",\n    activeKey: modalTab,\n    onSelect: k => setModalTab(k),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"login\",\n    title: \"login\",\n    style: {\n      border: \"solid green\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    name: \"login\",\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-12 col-md-3\",\n    style: {\n      marginTop: \"12px\",\n      marginBottom: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 33\n    }\n  }, \"user name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"col-12 col-md-9\",\n    style: {\n      marginTop: \"4px\",\n      marginBottom: \"8px\"\n    },\n    name: \"loginUsername\",\n    value: loginUsername,\n    onChange: event => setLoginUsername(event.target.value),\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-12 col-md-3\",\n    style: {\n      marginTop: \"4px\",\n      marginBottom: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }, \"password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"col-12 col-md-9\",\n    style: {\n      marginTop: \"4px\",\n      marginBottom: \"8px\"\n    },\n    type: \"password\",\n    name: \"loginPassword\",\n    value: loginPassword,\n    onChange: event => setLoginPassword(event.target.value),\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 33\n    }\n  }), loginError, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" col-2 ml-auto\",\n    style: {\n      marginRight: \"8.5px\",\n      marginTop: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: {\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 3.5,\n      paddingBottom: 3.5\n    },\n    className: \"btn btn-primary\",\n    name: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 37\n    }\n  }, \"login\")))), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"signUp\",\n    title: \"sign up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    name: \"signup\",\n    onSubmit: handleSignup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-12 col-md-3\",\n    style: {\n      marginTop: \"12px\",\n      marginBottom: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 33\n    }\n  }, \"user name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"col-12 col-md-9\",\n    style: {\n      marginTop: \"4px\",\n      marginBottom: \"8px\"\n    },\n    name: \"signupUsername\",\n    value: signupUsername,\n    onChange: event => setSignupUsername(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-12 col-md-3\",\n    style: {\n      marginTop: \"4px\",\n      marginBottom: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 33\n    }\n  }, \"password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"col-12 col-md-9\",\n    style: {\n      marginTop: \"4px\",\n      marginBottom: \"8px\"\n    },\n    type: \"password\",\n    name: \"signupPassword\",\n    value: signupPassword,\n    onChange: event => setSignupPassword(event.target.value),\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-12 col-md-3\",\n    style: {\n      marginTop: \"4px\",\n      marginBottom: \"8px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 33\n    }\n  }, \"re-enter password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"col-12 col-md-9\",\n    style: {\n      verticalAlign: \"top\",\n      marginTop: \"10px\",\n      marginBottom: \"8px\"\n    },\n    type: \"password\",\n    name: \"signupRePassword\",\n    value: signupRePassword,\n    onChange: event => setSignupRePassword(event.target.value),\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 33\n    }\n  }), signupError, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" col-3 ml-auto\",\n    style: {\n      marginRight: \"8.5px\",\n      marginTop: \"5px\",\n      paddingRight: \"0px\",\n      alignItems: \"right\",\n      justifyContent: \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: {\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 3.5,\n      paddingBottom: 3.5\n    },\n    className: \"btn btn-primary mr-auto\",\n    name: \"submit2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 37\n    }\n  }, \"sign up\"))))))));\n};\n\nexport default Header;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/confusion-clone/confusion/src/component/Header.js"],"names":["React","useState","useEffect","useDebounce","Navbar","NavbarBrand","Nav","NavbarToggler","Collapse","NavItem","Jumbotron","Button","Modal","ModalBody","NavLink","EditBox","Tabs","Tab","LogoUrl","useForm","Loading","useSelector","useDispatch","putContent","signup","fetchMyContent","ColorPicker","Header","props","myContent","isLoading","content","store","dispatch","isNavOpen","setIsNavOpen","isModalOpen","setIsModalOpen","modalTab","setModalTab","loginUsername","setLoginUsername","loginPassword","setLoginPassword","signupUsername","setSignupUsername","signupPassword","setSignupPassword","signupRePassword","setSignupRePassword","color","setColor","debounce","loginError","setLoginError","signupError","setSignupError","loginBorderColor","signupBorderColor","register","errors","console","log","handleLogin","event","tmpError","userContent","Object","values","filter","user","id","preventDefault","password","handleSignup","undefined","componentToHex","c","hex","toString","length","rgbToHex","rgb","backgroundColor","map","margin","marginLeft","k","border","marginTop","marginBottom","target","value","required","marginRight","paddingLeft","paddingRight","paddingTop","paddingBottom","verticalAlign","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport { useDebounce } from 'use-debounce';\r\nimport {Navbar, NavbarBrand, Nav, NavbarToggler, Collapse, NavItem, Jumbotron,\r\n     Button, Modal, ModalBody} from 'reactstrap'\r\n// nav link auto maticly impliment the active component and a tag\r\nimport {NavLink} from 'react-router-dom';\r\nimport EditBox from './EditBox';\r\nimport {Tabs, Tab} from \"react-bootstrap\" ;\r\nimport {LogoUrl} from '../shared/externalUrl'\r\nimport {useForm} from 'react-hook-form'\r\nimport Loading from './Loading'\r\n//import {addMyContent} from '../redux/ActionCreators'\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {putContent, signup, fetchMyContent} from '../redux/ActionCreators'\r\n\r\nimport ColorPicker from 'react-color-picker-wheel';\r\n\r\nconst Header = (props) => {\r\n\r\n    \r\n    const [{myContent, isLoading}, {content}] = useSelector(store => [store.myContent, store.content]);\r\n    const dispatch = useDispatch();\r\n    \r\n    const [isNavOpen, setIsNavOpen] = useState(false);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [modalTab, setModalTab] = useState(\"login\");\r\n\r\n    const [loginUsername, setLoginUsername] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n    \r\n    const [signupUsername, setSignupUsername] = useState(\"\");\r\n    const [signupPassword, setSignupPassword] = useState(\"\");\r\n    const [signupRePassword, setSignupRePassword] = useState(\"\");\r\n\r\n    const [color, setColor] = useState(() => {\r\n        if(myContent){\r\n            return myContent.color\r\n        }\r\n        return null;\r\n\r\n    });\r\n    const [debounce] = useDebounce(color, 1000)\r\n\r\n    const [loginError, setLoginError] = useState(null);\r\n    const [signupError, setSignupError] = useState(\"\");\r\n    var loginBorderColor = null;\r\n    var signupBorderColor = null;\r\n    //var loginBorderColor = null;\r\n    //var loginBorderColor = null;\r\n\r\n    // setup\r\n    const {register, errors} = useForm();\r\n\r\n    useEffect(() => {\r\n        console.log(\"color1\", color); \r\n        if(color && myContent.color !== color){\r\n            console.log(\"color2\", color);  \r\n            myContent.color = color;\r\n            dispatch(putContent(myContent))\r\n        }\r\n    }, [debounce])\r\n    \r\n\r\n    if(myContent === null || isLoading === true){\r\n        return <Loading/>;\r\n    } \r\n\r\n    function handleLogin(event){\r\n        console.log({loginUsername, loginPassword})\r\n        var tmpError = null;\r\n    \r\n        const userContent = Object.values(content).filter((user) => user.id === loginUsername)[0];\r\n        if(userContent){\r\n            \r\n            event.preventDefault();\r\n            if(userContent.password === loginPassword){\r\n                setLoginError(null)\r\n                dispatch(fetchMyContent(loginUsername))\r\n                setIsModalOpen(!isModalOpen);\r\n            }\r\n            else{\r\n                //wrong password\r\n                tmpError = <div style={{color:\"red\"}}>wrong password or user name</div>;\r\n            }\r\n        }\r\n        else{\r\n            //create new user?\r\n            event.preventDefault();\r\n            tmpError = <div style={{color:\"red\"}}>user name not found<br/>you can easily creat new account in the sign up</div>;\r\n        }\r\n    \r\n        if(tmpError !== \"\"){\r\n            setLoginError(tmpError);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    function handleSignup(event){\r\n        console.log({signupUsername, signupPassword, signupRePassword})\r\n        var tmpError = \"\";\r\n        \r\n        if(signupRePassword !== signupPassword){\r\n            tmpError = <div style={{color:\"red\"}}>passwords not match</div>\r\n        }\r\n        const userContent = Object.values(content).filter((user) => user.id === signupUsername)[0];\r\n        if(userContent !== null && userContent !== undefined)\r\n            tmpError = <div style={{color:\"red\"}}>user name already exist</div>\r\n            loginBorderColor = \"green\";\r\n        \r\n        \r\n        event.preventDefault();\r\n        if(tmpError !== \"\"){\r\n            setSignupError(tmpError);\r\n        }\r\n        else{\r\n            loginBorderColor = null;\r\n            setSignupError(null);\r\n            myContent.id = signupUsername;\r\n            myContent.password = signupPassword;\r\n            dispatch(signup(myContent))\r\n\r\n\r\n            //intial user 0\r\n        }   \r\n    }\r\n\r\n    function componentToHex(c) {\r\n        var hex = c.toString(16);\r\n        return hex.length === 1 ? \"0\" + hex : hex;\r\n      }\r\n      \r\n    function rgbToHex(rgb) {\r\n        const hex = \"#\" + componentToHex(rgb[0]) + componentToHex(rgb[1]) + componentToHex(rgb[2]);\r\n        return hex;\r\n      }\r\n       \r\n\r\n    return(\r\n        <React.Fragment>                    \r\n            <Navbar dark expand=\"md\" style={{backgroundColor: \"rgba(\"+[...color.map(c => c/2), 1]+\")\"}}>\r\n                <div className=\"container\">\r\n                    <NavbarToggler onClick={() => setIsNavOpen(!isNavOpen)}/>\r\n                    <NavbarBrand className='mr-auto' href=\"/\">\r\n                        <img src={LogoUrl} height=\"30\" width=\"41\"/>\r\n                    </NavbarBrand>\r\n                    <Collapse isOpen={isNavOpen} navbar>\r\n                        <Nav navbar>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link ml-md-5 offset-2 offset-md-0\" to=\"/home\">\r\n                                    <span className=\"fa fa-home\"></span> Home\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/aboutus\">\r\n                                    <span className=\"fa fa-info\"></span> About Us\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/menu\">\r\n                                    <span className=\"fa fa-list\"></span> Menu\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/contactus\">\r\n                                    <span className=\"fa fa-address-card\"></span> Contact US\r\n                                </NavLink>\r\n                            </NavItem>\r\n                        </Nav>\r\n                        <Nav className=\"ml-auto\" navbar>\r\n                            <NavItem >\r\n                                <Button outline onClick={() => setIsModalOpen(!isModalOpen)} className=\"nav-link offset-2 offset-md-0\"><span className=\"fa fa-sign-in\"></span> Login</Button>\r\n                            </NavItem>\r\n                        </Nav>\r\n                    </Collapse>\r\n                </div>\r\n            </Navbar>\r\n            <Jumbotron style={{backgroundColor: \"rgba(\"+[...color, 1]+\")\"}}>\r\n                <div className=\"container\">\r\n                    <div className='row'>\r\n                        <h1 style={{margin: \"auto\"}}>Design Your Restaurant</h1>\r\n                    </div>\r\n                    <div className='row'>\r\n                        <div className='col-10 col-md-6'>\r\n                          <EditBox path={myContent.id} field=\"title\" type=\"head\" id=\"0\"/>\r\n                            <EditBox path={myContent.id} field =\"description\"  type=\"head\" id=\"0\"/>\r\n                          </div>\r\n                          <div className=\"m-1 div-ColorPicker\" style={{marginLeft:\"auto\"}}>\r\n                            <ColorPicker\r\n                                onChange={(c => setColor(Object.values(c[\"rgb\"])))}\r\n                                size={240}\r\n                                initialColor={rgbToHex(color)}\r\n                             />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Jumbotron>\r\n            <Modal isOpen={isModalOpen} toggle={() => setIsModalOpen(!isModalOpen)}>\r\n                <ModalBody>\r\n\r\n                    <Tabs\r\n                    id=\"controlled-tab-example\"\r\n                    activeKey={modalTab}\r\n                    onSelect={(k) => setModalTab(k)}\r\n                    >\r\n                        <Tab eventKey=\"login\" title=\"login\" style={{border:\"solid green\"}}>\r\n                            <form name=\"login\" onSubmit={handleLogin}>\r\n                                <label className=\"col-12 col-md-3\" style={{marginTop:\"12px\", marginBottom:\"8px\"}}>user name</label>\r\n                                <input className=\"col-12 col-md-9\" style={{marginTop:\"4px\", marginBottom:\"8px\"}} name=\"loginUsername\" value={loginUsername}\r\n                                 onChange={(event) => setLoginUsername(event.target.value)}\r\n                                 ref={register({ required: true })}/>\r\n                                \r\n                                <label className=\"col-12 col-md-3\" style={{marginTop:\"4px\", marginBottom:\"8px\"}}>password</label>\r\n                                <input className=\"col-12 col-md-9\" style={{marginTop:\"4px\", marginBottom:\"8px\"}} type=\"password\" name=\"loginPassword\" value={loginPassword}\r\n                                onChange={(event) => setLoginPassword(event.target.value)}\r\n                                ref={register({ required: true })} />\r\n\r\n                                {loginError}\r\n                                <div className=\" col-2 ml-auto\" style={{marginRight: \"8.5px\", marginTop:\"5px\"}}>\r\n                                    <button type=\"submit\" style={{paddingLeft:10, paddingRight:10, paddingTop:3.5, paddingBottom:3.5}} className=\"btn btn-primary\" name=\"submit\">login</button>\r\n                                </div>\r\n                            </form>\r\n                        </Tab>\r\n\r\n                        <Tab eventKey=\"signUp\" title=\"sign up\">\r\n                            <form name=\"signup\" onSubmit={handleSignup}>\r\n                                <label className=\"col-12 col-md-3\" style={{marginTop:\"12px\", marginBottom:\"8px\"}}>user name</label>\r\n                                <input className=\"col-12 col-md-9\" style={{marginTop:\"4px\", marginBottom:\"8px\"}} name=\"signupUsername\" value={signupUsername}\r\n                                 onChange={(event) => setSignupUsername(event.target.value)}/>\r\n                                \r\n                                <label className=\"col-12 col-md-3\" style={{marginTop:\"4px\", marginBottom:\"8px\"}}>password</label>\r\n                                <input className=\"col-12 col-md-9\" style={{marginTop:\"4px\", marginBottom:\"8px\"}} type=\"password\" name=\"signupPassword\" value={signupPassword}\r\n                                onChange={(event) => setSignupPassword(event.target.value)}\r\n                                ref={register({ required: true })} />\r\n                                \r\n                                <label className=\"col-12 col-md-3\" style={{marginTop:\"4px\", marginBottom:\"8px\"}}>re-enter password</label>\r\n                                <input className=\"col-12 col-md-9\" style={{verticalAlign: \"top\", marginTop:\"10px\", marginBottom:\"8px\"}} type=\"password\" name=\"signupRePassword\" value={signupRePassword}\r\n                                onChange={(event) => setSignupRePassword(event.target.value)}\r\n                                ref={register({ required: true })}  />\r\n                                \r\n                                {signupError}\r\n                                <div className=\" col-3 ml-auto\" style={{marginRight: \"8.5px\", marginTop:\"5px\", paddingRight:\"0px\", alignItems:\"right\",  justifyContent:\"right\" }}>\r\n                                    <button type=\"submit\" style={{paddingLeft:10, paddingRight:10, paddingTop:3.5, paddingBottom:3.5}} className=\"btn btn-primary mr-auto\" name=\"submit2\">sign up</button>\r\n                                </div>\r\n                            </form>\r\n                        </Tab>\r\n                    </Tabs>\r\n                </ModalBody>\r\n            </Modal>\r\n        </React.Fragment>\r\n    );\r\n   \r\n\r\n}\r\n\r\nexport default Header"]},"metadata":{},"sourceType":"module"}