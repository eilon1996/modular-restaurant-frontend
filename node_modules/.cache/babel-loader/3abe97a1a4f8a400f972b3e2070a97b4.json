{"ast":null,"code":"var _jsxFileName = \"/home/eilon/programing/full-stack/confusion-new/confusion/src/component/Menu.js\";\nimport React, { useState } from 'react';\nimport { Card, CardImg, CardImgOverlay, CardTitle, Breadcrumb, BreadcrumbItem, Collapse, CardBody, CardText } from 'reactstrap';\nimport MultiSelect from \"react-multi-select-component\";\nimport { Link } from 'react-router-dom';\nimport Loading from './Loading';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { putContent } from '../redux/ActionCreators';\n\nconst Menu = props => {\n  const {\n    myContent,\n    isLoading,\n    errMess\n  } = useSelector(store => store.myContent);\n  const [render, setRender] = useState(0);\n  const dispatch = useDispatch();\n\n  const AddDish = () => {\n    const [showForm, setShowForm] = useState(false);\n    const [title, setTitle] = useState();\n    const [selected, setSelected] = useState([]);\n    const [description, setDescription] = useState();\n    const options = [{\n      label: \"Hot ðŸŒ¶\",\n      value: \"Hot ðŸŒ¶\"\n    }, {\n      label: \"Vegan ðŸŒ±\",\n      value: \"Vegan ðŸŒ±\"\n    }];\n\n    function handleSubmit(event) {\n      const amount = myContent.dishes.length;\n      let newDish = JSON.parse(JSON.stringify(myContent.dishes[amount - 1]));\n      newDish.title.text = title;\n      newDish.label = selected.map(label => label.label).join();\n      newDish.description.text = description;\n      newDish.id = amount;\n      myContent.dishes[amount] = newDish;\n      setShowForm(false);\n      dispatch(putContent(myContent));\n      setTitle(\"\");\n      setSelected([]);\n      setDescription(\"\");\n      setRender(render + 1);\n      event.preventDefault();\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12 col-md-5 m-1\",\n      style: {\n        padding: \"0px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      style: {\n        display: showForm ? \"none\" : \"block\"\n      },\n      onClick: () => setShowForm(!showForm),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, \"add dish\"), /*#__PURE__*/React.createElement(Collapse, {\n      isOpen: showForm,\n      navbar: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: event => handleSubmit(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: title,\n      onChange: event => setTitle(event.target.value),\n      name: \"title\",\n      placeholder: \"dish name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 33\n      }\n    }, \"add photo \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 46\n      }\n    }), \"coming soon...\"), /*#__PURE__*/React.createElement(CardText, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 33\n      }\n    }, selected && selected.length == 2 ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 75\n      }\n    }, \"Hot \\uD83C\\uDF36 & Vegan \\uD83C\\uDF31\") : null, /*#__PURE__*/React.createElement(MultiSelect, {\n      options: options,\n      value: selected,\n      onChange: event => setSelected(Object.values(event)),\n      labelledBy: \"Select\",\n      selectedValues: selected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      value: description,\n      onChange: event => setDescription(event.target.value),\n      name: \"description\",\n      placeholder: \"dish description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-light\",\n      type: \"button\",\n      onClick: () => setShowForm(!showForm),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, \"cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, \"add\"))));\n  };\n\n  function deleteDish(id) {\n    let ans = window.confirm(myContent.dishes[id].title.text + \" is going to be deleted\");\n    if (ans == false) return; // do nothing\n\n    let newDishes = [];\n\n    for (let i = 0; i < id; i++) {\n      newDishes.push(myContent.dishes[i]);\n    }\n\n    for (let i = id; i < myContent.dishes.length - 1; i++) {\n      myContent.dishes[i + 1].id = i;\n      newDishes.push(myContent.dishes[i + 1]);\n    }\n\n    myContent.dishes = newDishes;\n    dispatch(putContent(myContent));\n    setRender(render + 1);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BreadcrumbItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 37\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(BreadcrumbItem, {\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"Menu\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"menu\"), \" \", /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 35\n    }\n  }))), isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-5 m-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 63\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-5 m-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 63\n    }\n  }), \" \")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, myContent.dishes.map(dish => /*#__PURE__*/React.createElement(Card, {\n    className: \"col-12 col-md-5 m-1\",\n    style: {\n      padding: \"0px\"\n    },\n    key: dish.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/menu/${dish.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(CardImg, {\n    width: \"100%\",\n    src: dish.image,\n    alt: dish.title.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(CardImgOverlay, {\n    style: {\n      display: \"table\",\n      background: \"blue\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 40\n    }\n  }, \" \", dish.title.text)), /*#__PURE__*/React.createElement(CardImgOverlay, {\n    style: {\n      display: \"table\",\n      background: \"red\",\n      marginLeft: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-default\",\n    onClick: () => deleteDish(dish.id),\n    style: {\n      marginLeft: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 143\n    }\n  })))))), /*#__PURE__*/React.createElement(AddDish, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  })));\n};\n\nexport default Menu;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/confusion-new/confusion/src/component/Menu.js"],"names":["React","useState","Card","CardImg","CardImgOverlay","CardTitle","Breadcrumb","BreadcrumbItem","Collapse","CardBody","CardText","MultiSelect","Link","Loading","useSelector","useDispatch","putContent","Menu","props","myContent","isLoading","errMess","store","render","setRender","dispatch","AddDish","showForm","setShowForm","title","setTitle","selected","setSelected","description","setDescription","options","label","value","handleSubmit","event","amount","dishes","length","newDish","JSON","parse","stringify","text","map","join","id","preventDefault","padding","display","target","Object","values","deleteDish","ans","window","confirm","newDishes","i","push","dish","image","background","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Card, CardImg, CardImgOverlay, CardTitle, Breadcrumb, BreadcrumbItem, Collapse, CardBody, CardText } from 'reactstrap';\r\nimport MultiSelect from \"react-multi-select-component\";\r\nimport { Link } from 'react-router-dom';\r\nimport Loading from './Loading'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { putContent } from '../redux/ActionCreators';\r\n\r\n\r\nconst Menu = (props) => {\r\n\r\n    const { myContent, isLoading, errMess } = useSelector(store => store.myContent);\r\n    const [render, setRender] = useState(0);\r\n    const dispatch = useDispatch()\r\n\r\n    const AddDish = () => {\r\n\r\n        const [showForm, setShowForm] = useState(false);\r\n        const [title, setTitle] = useState();\r\n        const [selected, setSelected] = useState([]);\r\n        const [description, setDescription] = useState();\r\n\r\n        const options = [\r\n            { label: \"Hot ðŸŒ¶\", value: \"Hot ðŸŒ¶\" },\r\n            { label: \"Vegan ðŸŒ±\", value: \"Vegan ðŸŒ±\" }\r\n        ]\r\n\r\n        function handleSubmit(event) {\r\n            const amount = myContent.dishes.length;\r\n            let newDish = JSON.parse(JSON.stringify(myContent.dishes[amount - 1]));\r\n\r\n            newDish.title.text = title;\r\n            newDish.label = selected.map(label => label.label).join();\r\n            newDish.description.text = description;\r\n            newDish.id = amount;\r\n            myContent.dishes[amount] = newDish;\r\n            setShowForm(false);\r\n            dispatch(putContent(myContent));\r\n            setTitle(\"\");\r\n            setSelected([]);\r\n            setDescription(\"\");\r\n            setRender(render + 1);\r\n            event.preventDefault()\r\n        }\r\n\r\n        return (\r\n            <div className=\"col-12 col-md-5 m-1\" style={{ padding: \"0px\" }} >\r\n                <button className=\"btn btn-primary\" style={{ display: showForm ? \"none\" : \"block\" }} onClick={() => setShowForm(!showForm)}>add dish</button>\r\n\r\n                <Collapse isOpen={showForm} navbar>\r\n                    <form onSubmit={(event) => handleSubmit(event)}>\r\n                        <Card>\r\n                            <CardTitle>\r\n                                <input value={title} onChange={(event) => setTitle(event.target.value)} name=\"title\" placeholder=\"dish name\" />\r\n                            </CardTitle>\r\n                            <CardBody>\r\n                                <p>add photo <br />coming soon...</p>\r\n                                <CardText>\r\n                                    {(selected && selected.length == 2) ? <div>Hot ðŸŒ¶ &amp; Vegan ðŸŒ±</div> : null}\r\n                                    <MultiSelect\r\n                                        options={options}\r\n                                        value={selected}\r\n                                        onChange={(event) => setSelected(Object.values(event))}\r\n                                        labelledBy={\"Select\"}\r\n                                        selectedValues={selected}\r\n                                    />\r\n                                    <textarea value={description} onChange={(event) => setDescription(event.target.value)} name=\"description\" placeholder=\"dish description\" />\r\n                                </CardText>\r\n                            </CardBody>\r\n                        </Card>\r\n                        <button className=\"btn btn-light\" type=\"button\" onClick={() => setShowForm(!showForm)}>cancel</button>\r\n                        <button className=\"btn btn-primary\" type=\"submit\">add</button>\r\n                    </form>\r\n                </Collapse>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function deleteDish(id) {\r\n        let ans = window.confirm(myContent.dishes[id].title.text + \" is going to be deleted\");\r\n        if (ans == false) return; // do nothing\r\n\r\n        let newDishes = [];\r\n        for (let i = 0; i < id; i++) {\r\n            newDishes.push(myContent.dishes[i])\r\n        }\r\n        for (let i = id; i < myContent.dishes.length - 1; i++) {\r\n            myContent.dishes[i + 1].id = i;\r\n            newDishes.push(myContent.dishes[i + 1])\r\n        }\r\n        myContent.dishes = newDishes\r\n        dispatch(putContent(myContent));\r\n        setRender(render + 1);\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <Breadcrumb>\r\n                    <BreadcrumbItem><Link to=\"/home\">Home</Link></BreadcrumbItem>\r\n                    <BreadcrumbItem active>Menu</BreadcrumbItem>\r\n                </Breadcrumb>\r\n                <div className=\"col-12\">\r\n                    <h3>menu</h3> <hr />\r\n                </div>\r\n            </div>\r\n                {isLoading ?\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 col-md-5 m-1\"> <Loading /> </div>\r\n                        <div className=\"col-12 col-md-5 m-1\"> <Loading /> </div>\r\n                    </div>\r\n                    :\r\n                    <div className=\"row\">\r\n                        {myContent.dishes.map((dish) => (\r\n                            <Card className=\"col-12 col-md-5 m-1\" style={{ padding: \"0px\" }} key={dish.id}>\r\n                                <Link to={`/menu/${dish.id}`}>\r\n                                    <CardImg width=\"100%\" src={dish.image} alt={dish.title.text} />\r\n                                    <CardImgOverlay style={{display:\"table\", background:\"blue\"}}>\r\n                                       <div> {dish.title.text}</div>\r\n                                    </CardImgOverlay>\r\n                                    <CardImgOverlay style={{display:\"table\", background:\"red\", marginLeft:\"auto\"}}>\r\n                                       <button className=\"btn btn-default\" onClick={() => deleteDish(dish.id)} style={{ marginLeft: \"auto\" }}><span className=\"fa fa-times\"></span></button>\r\n                                    </CardImgOverlay>\r\n                                </Link>\r\n                            </Card>\r\n                        ))}\r\n                        <AddDish />\r\n                    </div>\r\n                }\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Menu;"]},"metadata":{},"sourceType":"module"}