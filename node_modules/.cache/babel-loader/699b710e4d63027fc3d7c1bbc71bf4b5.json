{"ast":null,"code":"import _regeneratorRuntime from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState}from'react';import{Navbar,NavbarBrand,Nav,NavbarToggler,Collapse,NavItem,Jumbotron,Button,Modal,ModalHeader,ModalBody,Form,FormGroup,Input,Label}from'reactstrap';// nav link auto maticly impliment the active component and a tag\nimport{NavLink}from'react-router-dom';import EditBox from'./EditBoxComponent';import{Tabs,Tab}from\"react-bootstrap\";import initialContent from'../redux/initialContent';import LogoUrl from'../shared/logoUrl';import{useForm}from'react-hook-form';import{addMyContent}from'../redux/ActionCreators';var Header=function Header(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isNavOpen=_useState2[0],setIsNavOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState(\"login\"),_useState6=_slicedToArray(_useState5,2),modalTab=_useState6[0],setModalTab=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),loginUsername=_useState8[0],setLoginUsername=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),loginPassword=_useState10[0],setLoginPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),signupUsername=_useState12[0],setSignupUsername=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),signupPassword=_useState14[0],setSignupPassword=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),signupRePassword=_useState16[0],setSignupRePassword=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),loginError=_useState18[0],setLoginError=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),signupError=_useState20[0],setSignupError=_useState20[1];// TODO set the signup\n// setup\nconsole.log(\"HeaderComponent: render, myContent\",props.myContent);var myContent=null;var title=\"\";if(props.myContent===null){myContent=initialContent;}else{myContent=props.myContent;}var _useForm=useForm(),register=_useForm.register,errors=_useForm.errors;function handleLogin(event){console.log({loginUsername:loginUsername,loginPassword:loginPassword});var tmpError=\"\";setLoginError(\"\");var userContent=Object.values(props.content).filter(function(user){return user.id===loginUsername;})[0];if(userContent){if(userContent.password===loginPassword){props.fetchMyContent(loginUsername);setIsModalOpen(!isModalOpen);event.preventDefault();}else{//wrong password\ntmpError=\"wrong password or user name\";}}else{//create new user?\ntmpError=\"user name not found\\nyou can easily creat new account in the sign up\";}if(tmpError!==\"\"){setLoginError(tmpError);}}function handleSignup(event){console.log({signupUsername:signupUsername,signupPassword:signupPassword,signupRePassword:signupRePassword});var tmpError=\"\";setSignupError(\"\");if(signupRePassword!==signupPassword){tmpError=\"passwords not match\\n\";}var userContent=Object.values(props.content).filter(function(user){return user.id===signupUsername;})[0];if(userContent!==null&&userContent!==undefined){tmpError+=\"user name already exist\";}if(tmpError!==\"\"){setSignupError(tmpError);}else{var fields=[signupUsername,signupPassword,myContent.title,myContent.titleFontSize,myContent.description,myContent.descriptionFontSize];var id=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return props.signup(fields);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function id(){return _ref.apply(this,arguments);};}();var res1=id();console.log(\"res1: \",res1);// not working\naddMyContent({id:fields[0],password:fields[1],title:fields[2],titleFontSize:fields[3],description:fields[4],descriptionFontSize:fields[5]});// we wait for a secound so that the server will be update and we could search the recently add content\n// a better solotion is to get back from the firebase the ID \n/*\r\n            setTimeout(function() {\r\n                const userContent = Object.keys(props.content).map((key) =>{\r\n                    if(signupUsername === props.content[key].id)\r\n                    return [key, props.content[key]]\r\n                }).filter((value) => value !== undefined);\r\n                props.fetchMyContent(userContent[0])\r\n\r\n            }, 1500);\r\n            */ //intial user 0\n}}function changeColor(color){console.log(color);}var buttonColorStyle=function buttonColorStyle(color){return{background:color,border:\"0px\",height:\"30px\",width:\"30px\",borderRadius:\"6px\",margin:\"2px\"};};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,{dark:true,expand:\"md\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(NavbarToggler,{onClick:function onClick(){return setIsNavOpen(!isNavOpen);}}),/*#__PURE__*/React.createElement(NavbarBrand,{className:\"mr-auto\",href:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:\"assets/images/logo.png\",height:\"30\",width:\"41\",alt:title})),/*#__PURE__*/React.createElement(Collapse,{isOpen:isNavOpen,navbar:true},/*#__PURE__*/React.createElement(Nav,{navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link ml-md-5 offset-2 offset-md-0\",to:\"/home\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-home\"}),\" Home\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link offset-2 offset-md-0\",to:\"/aboutus\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-info\"}),\" About Us\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link offset-2 offset-md-0\",to:\"/menu\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-list\"}),\" Menu\")),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:\"nav-link offset-2 offset-md-0\",to:\"/contactus\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-address-card\"}),\" Contact US\"))),/*#__PURE__*/React.createElement(Nav,{className:\"ml-auto\",navbar:true},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(Button,{outline:true,onClick:function onClick(){return setIsModalOpen(!isModalOpen);},className:\"nav-link offset-2 offset-md-0\"},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-sign-in\"}),\" Login\")))))),/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row row-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-11 col-sm-6\"},/*#__PURE__*/React.createElement(EditBox,{field_name:\"title\",putContent:props.putContent,myContent:myContent}),/*#__PURE__*/React.createElement(EditBox,{field_name:\"description\",putContent:props.putContent,myContent:myContent})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1 offset-sm-5\"},/*#__PURE__*/React.createElement(\"button\",{style:buttonColorStyle(\"red\"),onClick:function onClick(){return changeColor(\"red\");}}),/*#__PURE__*/React.createElement(\"button\",{style:buttonColorStyle(\"green\"),onClick:function onClick(){return changeColor(\"green\");}}),/*#__PURE__*/React.createElement(\"button\",{style:buttonColorStyle(\"yellow\"),onClick:function onClick(){return changeColor(\"yellow\");}}),/*#__PURE__*/React.createElement(\"button\",{style:buttonColorStyle(\"blue\"),onClick:function onClick(){return changeColor(\"blue\");}}),/*#__PURE__*/React.createElement(\"button\",{style:buttonColorStyle(\"grey\"),onClick:function onClick(){return changeColor(\"grey\");}}))))),/*#__PURE__*/React.createElement(Modal,{isOpen:isModalOpen,toggle:function toggle(){return setIsModalOpen(!isModalOpen);}},/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Tabs,{id:\"controlled-tab-example\",activeKey:modalTab,onSelect:function onSelect(k){return setModalTab(k);}},/*#__PURE__*/React.createElement(Tab,{eventKey:\"login\",title:\"login\"},/*#__PURE__*/React.createElement(\"form\",{name:\"login\",onSubmit:handleLogin},/*#__PURE__*/React.createElement(\"label\",null,\"user name\"),/*#__PURE__*/React.createElement(\"input\",{name:\"loginUsername\",value:loginUsername,onChange:function onChange(event){return setLoginUsername(event.target.value);}}),/*#__PURE__*/React.createElement(\"label\",null,\"password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"loginPassword\",value:loginPassword,onChange:function onChange(event){return setLoginPassword(event.target.value);},ref:register({required:true})}),errors.exampleRequired&&/*#__PURE__*/React.createElement(\"span\",null,\"This field is required\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",name:\"submit\"},\"login\"))),/*#__PURE__*/React.createElement(Tab,{eventKey:\"signUp\",title:\"sign up\"},/*#__PURE__*/React.createElement(\"form\",{name:\"signup\",onSubmit:handleSignup},/*#__PURE__*/React.createElement(\"label\",null,\"user name\"),/*#__PURE__*/React.createElement(\"input\",{name:\"signupUsername\",value:signupUsername,onChange:function onChange(event){return setSignupUsername(event.target.value);}}),/*#__PURE__*/React.createElement(\"label\",null,\"password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"signupPassword\",value:signupPassword,onChange:function onChange(event){return setSignupPassword(event.target.value);},ref:register({required:true})}),/*#__PURE__*/React.createElement(\"label\",null,\"re-enter password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"signupRePassword\",value:signupRePassword,onChange:function onChange(event){return setSignupRePassword(event.target.value);},ref:register({required:true})}),errors.exampleRequired&&/*#__PURE__*/React.createElement(\"span\",null,\"This field is required\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",name:\"submit2\"},\"signup\")))))));};export default Header;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/src/component/HeaderComponent.js"],"names":["React","Component","useState","Navbar","NavbarBrand","Nav","NavbarToggler","Collapse","NavItem","Jumbotron","Button","Modal","ModalHeader","ModalBody","Form","FormGroup","Input","Label","NavLink","EditBox","Tabs","Tab","initialContent","LogoUrl","useForm","addMyContent","Header","props","isNavOpen","setIsNavOpen","isModalOpen","setIsModalOpen","modalTab","setModalTab","loginUsername","setLoginUsername","loginPassword","setLoginPassword","signupUsername","setSignupUsername","signupPassword","setSignupPassword","signupRePassword","setSignupRePassword","loginError","setLoginError","signupError","setSignupError","console","log","myContent","title","register","errors","handleLogin","event","tmpError","userContent","Object","values","content","filter","user","id","password","fetchMyContent","preventDefault","handleSignup","undefined","fields","titleFontSize","description","descriptionFontSize","signup","res1","changeColor","color","buttonColorStyle","background","border","height","width","borderRadius","margin","putContent","k","target","value","required","exampleRequired"],"mappings":"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","sourcesContent":["import React, {Component, useState } from 'react';\r\nimport {Navbar, NavbarBrand, Nav, NavbarToggler, Collapse, NavItem, Jumbotron,\r\n     Button, Modal, ModalHeader, ModalBody, Form, FormGroup, Input, Label} from 'reactstrap'\r\n// nav link auto maticly impliment the active component and a tag\r\nimport {NavLink} from 'react-router-dom';\r\nimport EditBox from './EditBoxComponent';\r\nimport {Tabs, Tab} from \"react-bootstrap\" ;\r\nimport initialContent from '../redux/initialContent'\r\nimport LogoUrl from '../shared/logoUrl'\r\nimport {useForm} from 'react-hook-form'\r\nimport {addMyContent} from '../redux/ActionCreators'\r\n\r\nconst Header = (props) => {\r\n\r\n    const [isNavOpen, setIsNavOpen] = useState(false);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [modalTab, setModalTab] = useState(\"login\");\r\n\r\n    const [loginUsername, setLoginUsername] = useState(\"\");\r\n    const [loginPassword, setLoginPassword] = useState(\"\");\r\n    \r\n    const [signupUsername, setSignupUsername] = useState(\"\");\r\n    const [signupPassword, setSignupPassword] = useState(\"\");\r\n    const [signupRePassword, setSignupRePassword] = useState(\"\");\r\n\r\n    const [loginError, setLoginError] = useState(\"\");\r\n    const [signupError, setSignupError] = useState(\"\");\r\n\r\n    // TODO set the signup\r\n\r\n\r\n    // setup\r\n    console.log(\"HeaderComponent: render, myContent\", props.myContent)\r\n    var myContent = null;\r\n    var title = \"\"\r\n\r\n    if(props.myContent === null){\r\n        myContent = initialContent;\r\n    } else{\r\n        myContent = props.myContent;\r\n    }\r\n\r\n    const {register, errors} = useForm();\r\n\r\n    function handleLogin(event){\r\n        console.log({loginUsername, loginPassword})\r\n        var tmpError = \"\";\r\n        setLoginError(\"\");\r\n    \r\n        const userContent = Object.values(props.content).filter((user) => user.id === loginUsername)[0];\r\n        if(userContent){\r\n            \r\n            if(userContent.password === loginPassword){\r\n                props.fetchMyContent(loginUsername)\r\n                setIsModalOpen(!isModalOpen);\r\n                event.preventDefault();\r\n            }\r\n            else{\r\n                //wrong password\r\n                tmpError = \"wrong password or user name\";\r\n            }\r\n        }\r\n        else{\r\n            //create new user?\r\n            tmpError = \"user name not found\\nyou can easily creat new account in the sign up\";\r\n        }\r\n    \r\n        if(tmpError !== \"\"){\r\n            setLoginError(tmpError);\r\n        }\r\n    \r\n    }\r\n\r\n    function handleSignup(event){\r\n        console.log({signupUsername, signupPassword, signupRePassword})\r\n        var tmpError = \"\";\r\n        setSignupError(\"\");\r\n        \r\n        if(signupRePassword !== signupPassword){\r\n            tmpError = \"passwords not match\\n\";\r\n        }\r\n        const userContent = Object.values(props.content).filter((user) => user.id === signupUsername)[0];\r\n        if(userContent !== null && userContent !== undefined){\r\n            tmpError += \"user name already exist\";\r\n        }\r\n        \r\n        if(tmpError !== \"\"){\r\n            setSignupError(tmpError);\r\n        }\r\n        else{\r\n            const fields = [signupUsername, signupPassword, myContent.title, myContent.titleFontSize,\r\n                myContent.description , myContent.descriptionFontSize];\r\n            const id = async () => await props.signup(fields)\r\n            const res1 = id();\r\n            console.log(\"res1: \", res1)\r\n\r\n            // not working\r\n            addMyContent({\r\n                id:fields[0],\r\n                password:fields[1],\r\n                title: fields[2],\r\n                titleFontSize: fields[3],\r\n                description: fields[4],\r\n                descriptionFontSize: fields[5]\r\n              });\r\n            \r\n            // we wait for a secound so that the server will be update and we could search the recently add content\r\n            // a better solotion is to get back from the firebase the ID \r\n            /*\r\n            setTimeout(function() {\r\n                const userContent = Object.keys(props.content).map((key) =>{\r\n                    if(signupUsername === props.content[key].id)\r\n                    return [key, props.content[key]]\r\n                }).filter((value) => value !== undefined);\r\n                props.fetchMyContent(userContent[0])\r\n\r\n            }, 1500);\r\n            */\r\n\r\n\r\n            //intial user 0\r\n        }\r\n        \r\n    \r\n    }\r\n\r\n    function changeColor(color) {\r\n        console.log(color);  \r\n    }\r\n    \r\n    const buttonColorStyle = (color) => ({background:color, border:\"0px\", height:\"30px\", width:\"30px\", borderRadius: \"6px\", margin:\"2px\"})\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <Navbar dark expand=\"md\">\r\n                <div className=\"container\">\r\n                    <NavbarToggler onClick={() => setIsNavOpen(!isNavOpen)}/>\r\n                    <NavbarBrand className='mr-auto' href=\"/\">\r\n                        <img src='assets/images/logo.png' height=\"30\" width=\"41\"\r\n                            alt={title}/>\r\n                    </NavbarBrand>\r\n                    <Collapse isOpen={isNavOpen} navbar>\r\n                        <Nav navbar>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link ml-md-5 offset-2 offset-md-0\" to=\"/home\">\r\n                                    <span className=\"fa fa-home\"></span> Home\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/aboutus\">\r\n                                    <span className=\"fa fa-info\"></span> About Us\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/menu\">\r\n                                    <span className=\"fa fa-list\"></span> Menu\r\n                                </NavLink>\r\n                            </NavItem>\r\n                            <NavItem>\r\n                                <NavLink className=\"nav-link offset-2 offset-md-0\" to=\"/contactus\">\r\n                                    <span className=\"fa fa-address-card\"></span> Contact US\r\n                                </NavLink>\r\n                            </NavItem>\r\n                        </Nav>\r\n                        <Nav className=\"ml-auto\" navbar>\r\n                            <NavItem >\r\n                                <Button outline onClick={() => setIsModalOpen(!isModalOpen)} className=\"nav-link offset-2 offset-md-0\"><span className=\"fa fa-sign-in\"></span> Login</Button>\r\n                            </NavItem>\r\n                        </Nav>\r\n                    </Collapse>\r\n                </div>\r\n            </Navbar>\r\n            <Jumbotron>\r\n                <div className=\"container\">\r\n                    <div className='row row-header'>\r\n                        <div className='col-11 col-sm-6'>\r\n                            <EditBox field_name=\"title\" putContent ={ props.putContent} myContent={myContent}/>\r\n                            <EditBox field_name=\"description\" putContent ={ props.putContent} myContent={myContent}/>\r\n                        </div>\r\n                        <div className='col-1 offset-sm-5'>\r\n                            <button style={buttonColorStyle(\"red\")} onClick={() => changeColor(\"red\")}></button>\r\n                            <button style={buttonColorStyle(\"green\")} onClick={() => changeColor(\"green\")}></button>\r\n                            <button style={buttonColorStyle(\"yellow\")} onClick={() => changeColor(\"yellow\")}></button>\r\n                            <button style={buttonColorStyle(\"blue\")} onClick={() => changeColor(\"blue\")}></button>\r\n                            <button style={buttonColorStyle(\"grey\")} onClick={() => changeColor(\"grey\")}></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Jumbotron>\r\n            <Modal isOpen={isModalOpen} toggle={() => setIsModalOpen(!isModalOpen)}>\r\n                <ModalBody>\r\n\r\n                    <Tabs\r\n                    id=\"controlled-tab-example\"\r\n                    activeKey={modalTab}\r\n                    onSelect={(k) => setModalTab(k)}\r\n                    >\r\n                        <Tab eventKey=\"login\" title=\"login\">\r\n                            <form name=\"login\" onSubmit={handleLogin}>\r\n                                <label>user name</label>\r\n                                <input name=\"loginUsername\" value={loginUsername}\r\n                                onChange={(event) => setLoginUsername(event.target.value)}/>\r\n                                <label>password</label>\r\n                                <input type=\"password\" name=\"loginPassword\" value={loginPassword}\r\n                                 onChange={(event) => setLoginPassword(event.target.value)} \r\n                                    ref={register({ required: true })} />\r\n                                {errors.exampleRequired && <span>This field is required</span>}\r\n                                <button type=\"submit\" name=\"submit\">login</button>\r\n                            </form>\r\n                        </Tab>\r\n\r\n                        <Tab eventKey=\"signUp\" title=\"sign up\">\r\n                            <form name=\"signup\" onSubmit={handleSignup}>\r\n                                <label>user name</label>\r\n                                <input name=\"signupUsername\" value={signupUsername}\r\n                                 onChange={(event) => setSignupUsername(event.target.value)}/>\r\n                                \r\n                                <label>password</label>\r\n                                <input type=\"password\" name=\"signupPassword\" value={signupPassword}\r\n                                onChange={(event) => setSignupPassword(event.target.value)}\r\n                                ref={register({ required: true })} />\r\n                                \r\n                                <label>re-enter password</label>\r\n                                <input type=\"password\" name=\"signupRePassword\" value={signupRePassword}\r\n                                onChange={(event) => setSignupRePassword(event.target.value)}\r\n                                ref={register({ required: true })}  />\r\n                                \r\n                                {errors.exampleRequired && <span>This field is required</span>}\r\n                                <button type=\"submit\" name=\"submit2\">signup</button>\r\n                            </form>\r\n                        </Tab>\r\n                    </Tabs>\r\n                </ModalBody>\r\n            </Modal>\r\n        </React.Fragment>\r\n    );\r\n   \r\n\r\n}\r\n\r\nexport default Header"]},"metadata":{},"sourceType":"module"}