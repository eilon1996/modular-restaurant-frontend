{"ast":null,"code":"var _jsxFileName = \"/home/eilon/programing/full-stack/confusion-new/confusion/src/component/UploadS3.js\";\nimport React, { useState } from 'react';\nimport { Card, CardImg, CardImgOverlay, CardTitle, CardBody, CardText } from 'reactstrap';\nimport axios from 'axios';\nimport 'react-dropzone-uploader/dist/styles.css';\nimport Dropzone from 'react-dropzone-uploader';\n\nconst UploadS3 = props => {\n  const MyUploader = () => {\n    // specify upload params and url for your files\n    const getUploadParams = ({\n      meta\n    }) => {\n      return {\n        url: 'https://httpbin.org/post'\n      };\n    }; // called every time a file's `status` changes\n\n\n    const handleChangeStatus = ({\n      meta,\n      file\n    }, status) => {\n      console.log(status, meta, file);\n\n      if (status === \"done\") {\n        var data = new FormData();\n        var ending = file.name.split('.');\n        data.append('image', file, \"imageName.\" + ending[ending.length - 1]);\n        var config = {\n          method: 'POST',\n          url: 'http://localhost:5000/upload',\n          data: data\n        };\n        axios(config).then(response => {\n          console.log(JSON.stringify(response.data));\n        }).catch(function (error) {\n          console.log(error.message);\n        });\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(Dropzone, {\n      getUploadParams: getUploadParams,\n      onChangeStatus: handleChangeStatus,\n      accept: \"image/*\",\n      maxFiles: 1,\n      inputContent: (files, extra) => extra.reject ? 'Only Image file is allowed' : 'Drop Image Here',\n      styles: {\n        dropzoneReject: {\n          borderColor: '#F19373',\n          backgroundColor: '#F1BDAB'\n        },\n        inputLabel: (files, extra) => extra.reject ? {\n          color: '#A02800'\n        } : {}\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MyUploader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }));\n}; // to add submit button to the dropzone add in <Dropzone>   onSubmit={handleSubmit}\n\n\nexport default UploadS3;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/confusion-new/confusion/src/component/UploadS3.js"],"names":["React","useState","Card","CardImg","CardImgOverlay","CardTitle","CardBody","CardText","axios","Dropzone","UploadS3","props","MyUploader","getUploadParams","meta","url","handleChangeStatus","file","status","console","log","data","FormData","ending","name","split","append","length","config","method","then","response","JSON","stringify","catch","error","message","files","extra","reject","dropzoneReject","borderColor","backgroundColor","inputLabel","color"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,cAAxB,EAAwCC,SAAxC,EAAmDC,QAAnD,EAA6DC,QAA7D,QAA6E,YAA7E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,yCAAP;AAEA,OAAOC,QAAP,MAAqB,yBAArB;;AAIA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAGxB,QAAMC,UAAU,GAAG,MAAM;AACrB;AACA,UAAMC,eAAe,GAAG,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAAE,aAAO;AAAEC,QAAAA,GAAG,EAAE;AAAP,OAAP;AAA4C,KAApF,CAFqB,CAIrB;;;AACA,UAAMC,kBAAkB,GAAG,CAAC;AAAEF,MAAAA,IAAF;AAAQG,MAAAA;AAAR,KAAD,EAAiBC,MAAjB,KAA4B;AACnDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAAoBJ,IAApB,EAA0BG,IAA1B;;AACA,UAAIC,MAAM,KAAK,MAAf,EAAuB;AACnB,YAAIG,IAAI,GAAG,IAAIC,QAAJ,EAAX;AACA,YAAIC,MAAM,GAAGN,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgB,GAAhB,CAAb;AACAJ,QAAAA,IAAI,CAACK,MAAL,CAAY,OAAZ,EAAqBT,IAArB,EAA2B,eAAaM,MAAM,CAACA,MAAM,CAACI,MAAP,GAAc,CAAf,CAA9C;AAEA,YAAIC,MAAM,GAAG;AACTC,UAAAA,MAAM,EAAE,MADC;AAETd,UAAAA,GAAG,EAAE,8BAFI;AAGTM,UAAAA,IAAI,EAAEA;AAHG,SAAb;AAMAb,QAAAA,KAAK,CAACoB,MAAD,CAAL,CACKE,IADL,CACUC,QAAQ,IAAI;AACdZ,UAAAA,OAAO,CAACC,GAAR,CAAYY,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACV,IAAxB,CAAZ;AACH,SAHL,EAIKa,KAJL,CAIW,UAAUC,KAAV,EAAiB;AACpBhB,UAAAA,OAAO,CAACC,GAAR,CAAYe,KAAK,CAACC,OAAlB;AACH,SANL;AAOH;AACJ,KArBD;;AAuBA,wBACI,oBAAC,QAAD;AACI,MAAA,eAAe,EAAEvB,eADrB;AAEI,MAAA,cAAc,EAAEG,kBAFpB;AAGI,MAAA,MAAM,EAAC,SAHX;AAII,MAAA,QAAQ,EAAE,CAJd;AAKI,MAAA,YAAY,EAAE,CAACqB,KAAD,EAAQC,KAAR,KAAmBA,KAAK,CAACC,MAAN,GAAe,4BAAf,GAA8C,iBALnF;AAMI,MAAA,MAAM,EAAE;AACJC,QAAAA,cAAc,EAAE;AAAEC,UAAAA,WAAW,EAAE,SAAf;AAA0BC,UAAAA,eAAe,EAAE;AAA3C,SADZ;AAEJC,QAAAA,UAAU,EAAE,CAACN,KAAD,EAAQC,KAAR,KAAmBA,KAAK,CAACC,MAAN,GAAe;AAAEK,UAAAA,KAAK,EAAE;AAAT,SAAf,GAAsC;AAFjE,OANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAaH,GAzCD;;AA4CA,sBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADR;AAKH,CApDD,C,CAsDA;;;AAGA,eAAelC,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardImg, CardImgOverlay, CardTitle, CardBody, CardText } from 'reactstrap';\nimport axios from 'axios';\nimport 'react-dropzone-uploader/dist/styles.css'\n\nimport Dropzone from 'react-dropzone-uploader'\n\n\n\nconst UploadS3 = (props) => {\n\n\n    const MyUploader = () => {\n        // specify upload params and url for your files\n        const getUploadParams = ({ meta }) => { return { url: 'https://httpbin.org/post' } }\n\n        // called every time a file's `status` changes\n        const handleChangeStatus = ({ meta, file }, status) => {\n            console.log(status, meta, file)\n            if (status === \"done\") {\n                var data = new FormData();\n                var ending = file.name.split('.')\n                data.append('image', file, \"imageName.\"+ending[ending.length-1]);\n\n                var config = {\n                    method: 'POST',\n                    url: 'http://localhost:5000/upload',\n                    data: data\n                };\n\n                axios(config)\n                    .then(response => {\n                        console.log(JSON.stringify(response.data));\n                    })\n                    .catch(function (error) {\n                        console.log(error.message);\n                    });\n            }\n        }\n\n        return (\n            <Dropzone\n                getUploadParams={getUploadParams}\n                onChangeStatus={handleChangeStatus}\n                accept=\"image/*\"\n                maxFiles={1}\n                inputContent={(files, extra) => (extra.reject ? 'Only Image file is allowed' : 'Drop Image Here')}\n                styles={{\n                    dropzoneReject: { borderColor: '#F19373', backgroundColor: '#F1BDAB' },\n                    inputLabel: (files, extra) => (extra.reject ? { color: '#A02800' } : {}),\n                }}\n            />\n        )\n    }\n\n\n    return (\n            <form>\n                <MyUploader />\n            </form>\n    );\n}\n\n// to add submit button to the dropzone add in <Dropzone>   onSubmit={handleSubmit}\n\n\nexport default UploadS3;"]},"metadata":{},"sourceType":"module"}