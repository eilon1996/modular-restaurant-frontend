{"ast":null,"code":"var _jsxFileName = \"/home/eilon/programing/full-stack/confusion-new/confusion/src/component/UploadS3.js\";\nimport React, { useState } from 'react';\nimport { Card, CardImg, CardImgOverlay, CardTitle, CardBody, CardText } from 'reactstrap';\nimport axios from 'axios';\nimport 'react-dropzone-uploader/dist/styles.css';\nimport Dropzone from 'react-dropzone-uploader';\n\nconst UploadImg = props => {\n  const config = {\n    //IAM username - test1, group - test1-group\n    bucketName: 'modular-restrunt-images',\n    dirName: 'default',\n\n    /* optional */\n    region: 'us-east-2',\n    accessKeyId: 'AKIAYG5UCJQSWTYWXTH5',\n    secretAccessKey: 'TK+93nXQo2oZoZ83LgkutNnzuu8bPVulPgk3va1k'\n  };\n\n  const MyUploader = () => {\n    // specify upload params and url for your files\n    const getUploadParams = ({\n      meta\n    }) => {\n      return {\n        url: 'https://httpbin.org/post'\n      };\n    }; // called every time a file's `status` changes\n\n\n    const handleChangeStatus = ({\n      meta,\n      file\n    }, status) => {\n      console.log(status, meta, file);\n\n      if (status === \"done\") {\n        var data = new FormData();\n        var ending = file.name.split('.');\n        data.append('image', file, \"imageName.\" + ending[ending.length - 1]);\n        var config = {\n          method: 'POST',\n          url: 'http://localhost:5000/upload',\n          data: data\n        };\n        axios(config).then(response => {\n          console.log(JSON.stringify(response.data));\n        }).catch(function (error) {\n          console.log(error.message);\n        });\n      }\n    };\n\n    return /*#__PURE__*/React.createElement(Dropzone, {\n      getUploadParams: getUploadParams,\n      onChangeStatus: handleChangeStatus,\n      accept: \"image/*\",\n      maxFiles: 1,\n      inputContent: (files, extra) => extra.reject ? 'Only Image file is allowed' : 'Drop Image Here',\n      styles: {\n        dropzoneReject: {\n          borderColor: '#F19373',\n          backgroundColor: '#F1BDAB'\n        },\n        inputLabel: (files, extra) => extra.reject ? {\n          color: '#A02800'\n        } : {}\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"dropzone\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MyUploader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"submit\")));\n}; // to add submit button to the dropzone add in <Dropzone>   onSubmit={handleSubmit}\n\n\nexport default UploadImg;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/confusion-new/confusion/src/component/UploadS3.js"],"names":["React","useState","Card","CardImg","CardImgOverlay","CardTitle","CardBody","CardText","axios","Dropzone","UploadImg","props","config","bucketName","dirName","region","accessKeyId","secretAccessKey","MyUploader","getUploadParams","meta","url","handleChangeStatus","file","status","console","log","data","FormData","ending","name","split","append","length","method","then","response","JSON","stringify","catch","error","message","files","extra","reject","dropzoneReject","borderColor","backgroundColor","inputLabel","color"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,cAAxB,EAAwCC,SAAxC,EAAmDC,QAAnD,EAA6DC,QAA7D,QAA6E,YAA7E;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,yCAAP;AAEA,OAAOC,QAAP,MAAqB,yBAArB;;AAIA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAGzB,QAAMC,MAAM,GAAG;AACX;AACAC,IAAAA,UAAU,EAAE,yBAFD;AAGXC,IAAAA,OAAO,EAAE,SAHE;;AAGS;AACpBC,IAAAA,MAAM,EAAE,WAJG;AAKXC,IAAAA,WAAW,EAAE,sBALF;AAMXC,IAAAA,eAAe,EAAE;AANN,GAAf;;AAUA,QAAMC,UAAU,GAAG,MAAM;AACrB;AACA,UAAMC,eAAe,GAAG,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAAE,aAAO;AAAEC,QAAAA,GAAG,EAAE;AAAP,OAAP;AAA4C,KAApF,CAFqB,CAIrB;;;AACA,UAAMC,kBAAkB,GAAG,CAAC;AAAEF,MAAAA,IAAF;AAAQG,MAAAA;AAAR,KAAD,EAAiBC,MAAjB,KAA4B;AACnDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAAoBJ,IAApB,EAA0BG,IAA1B;;AACA,UAAIC,MAAM,KAAK,MAAf,EAAuB;AACnB,YAAIG,IAAI,GAAG,IAAIC,QAAJ,EAAX;AACA,YAAIC,MAAM,GAAGN,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgB,GAAhB,CAAb;AACAJ,QAAAA,IAAI,CAACK,MAAL,CAAY,OAAZ,EAAqBT,IAArB,EAA2B,eAAaM,MAAM,CAACA,MAAM,CAACI,MAAP,GAAc,CAAf,CAA9C;AAEA,YAAIrB,MAAM,GAAG;AACTsB,UAAAA,MAAM,EAAE,MADC;AAETb,UAAAA,GAAG,EAAE,8BAFI;AAGTM,UAAAA,IAAI,EAAEA;AAHG,SAAb;AAMAnB,QAAAA,KAAK,CAACI,MAAD,CAAL,CACKuB,IADL,CACUC,QAAQ,IAAI;AACdX,UAAAA,OAAO,CAACC,GAAR,CAAYW,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACT,IAAxB,CAAZ;AACH,SAHL,EAIKY,KAJL,CAIW,UAAUC,KAAV,EAAiB;AACpBf,UAAAA,OAAO,CAACC,GAAR,CAAYc,KAAK,CAACC,OAAlB;AACH,SANL;AAOH;AACJ,KArBD;;AAuBA,wBACI,oBAAC,QAAD;AACI,MAAA,eAAe,EAAEtB,eADrB;AAEI,MAAA,cAAc,EAAEG,kBAFpB;AAGI,MAAA,MAAM,EAAC,SAHX;AAII,MAAA,QAAQ,EAAE,CAJd;AAKI,MAAA,YAAY,EAAE,CAACoB,KAAD,EAAQC,KAAR,KAAmBA,KAAK,CAACC,MAAN,GAAe,4BAAf,GAA8C,iBALnF;AAMI,MAAA,MAAM,EAAE;AACJC,QAAAA,cAAc,EAAE;AAAEC,UAAAA,WAAW,EAAE,SAAf;AAA0BC,UAAAA,eAAe,EAAE;AAA3C,SADZ;AAEJC,QAAAA,UAAU,EAAE,CAACN,KAAD,EAAQC,KAAR,KAAmBA,KAAK,CAACC,MAAN,GAAe;AAAEK,UAAAA,KAAK,EAAE;AAAT,SAAf,GAAsC;AAFjE,OANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAaH,GAzCD;;AA4CA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAGI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CAFJ,CADJ;AAUH,CAnED,C,CAqEA;;;AAGA,eAAevC,SAAf","sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardImg, CardImgOverlay, CardTitle, CardBody, CardText } from 'reactstrap';\nimport axios from 'axios';\nimport 'react-dropzone-uploader/dist/styles.css'\n\nimport Dropzone from 'react-dropzone-uploader'\n\n\n\nconst UploadImg = (props) => {\n\n\n    const config = {\n        //IAM username - test1, group - test1-group\n        bucketName: 'modular-restrunt-images',\n        dirName: 'default', /* optional */\n        region: 'us-east-2',\n        accessKeyId: 'AKIAYG5UCJQSWTYWXTH5',\n        secretAccessKey: 'TK+93nXQo2oZoZ83LgkutNnzuu8bPVulPgk3va1k',\n    }\n\n\n    const MyUploader = () => {\n        // specify upload params and url for your files\n        const getUploadParams = ({ meta }) => { return { url: 'https://httpbin.org/post' } }\n\n        // called every time a file's `status` changes\n        const handleChangeStatus = ({ meta, file }, status) => {\n            console.log(status, meta, file)\n            if (status === \"done\") {\n                var data = new FormData();\n                var ending = file.name.split('.')\n                data.append('image', file, \"imageName.\"+ending[ending.length-1]);\n\n                var config = {\n                    method: 'POST',\n                    url: 'http://localhost:5000/upload',\n                    data: data\n                };\n\n                axios(config)\n                    .then(response => {\n                        console.log(JSON.stringify(response.data));\n                    })\n                    .catch(function (error) {\n                        console.log(error.message);\n                    });\n            }\n        }\n\n        return (\n            <Dropzone\n                getUploadParams={getUploadParams}\n                onChangeStatus={handleChangeStatus}\n                accept=\"image/*\"\n                maxFiles={1}\n                inputContent={(files, extra) => (extra.reject ? 'Only Image file is allowed' : 'Drop Image Here')}\n                styles={{\n                    dropzoneReject: { borderColor: '#F19373', backgroundColor: '#F1BDAB' },\n                    inputLabel: (files, extra) => (extra.reject ? { color: '#A02800' } : {}),\n                }}\n            />\n        )\n    }\n\n\n    return (\n        <div className=\"App\">\n            <h2>dropzone</h2>\n            <form>\n                <MyUploader />\n\n                <button type=\"submit\">submit</button>\n            </form>\n        </div>\n    );\n}\n\n// to add submit button to the dropzone add in <Dropzone>   onSubmit={handleSubmit}\n\n\nexport default UploadImg;"]},"metadata":{},"sourceType":"module"}