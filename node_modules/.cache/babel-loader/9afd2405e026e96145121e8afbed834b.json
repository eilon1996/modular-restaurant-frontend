{"ast":null,"code":"var _jsxFileName = \"/home/eilon/programing/full-stack/confusion-new/confusion/src/component/EditBox.js\";\nimport React, { useState, useEffect } from 'react';\nimport Loading from './Loading';\nimport { useDebounce } from 'use-debounce';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { putContent } from '../redux/ActionCreators';\n\nconst EditBox = props => {\n  const {\n    myContent,\n    isLoading\n  } = useSelector(store => store.myContent);\n  const dispatch = useDispatch();\n  const [edit, setEdit] = useState(false);\n  const [inputTextSaver, setInputTextSaver] = useState();\n  const [fontFamily, setFontFamily] = useState(() => {\n    if (myContent) return myContent[props.type][props.id][props.field].fontFamily;\n    return null;\n  });\n  useEffect(() => {\n    setInputTextSaver(parentText);\n  }, [fontFamily]);\n  const [fontSize, setFontSize] = useState(() => {\n    if (myContent) {\n      const size = myContent[props.type][props.id][props.field].fontSize;\n      if (typeof size == \"string\" && size.indexOf(\"px\") > -1) return size.slice(0, size.length - 2); // to remove the \"px\" if exist\n      else return parseInt(size);\n    }\n\n    return null;\n  });\n  const [debouncedFontSize] = useDebounce(fontSize, 750);\n  useEffect(() => {\n    if (myContent !== null && fontSize != undefined && fontSize !== myContent[props.type][props.id][props.field].fontSize) {\n      console.log(\"debounce\");\n      myContent[props.type][props.id][props.field].fontSize = fontSize;\n      dispatch(putContent(myContent));\n    }\n  }, [debouncedFontSize]); //props.field   title/description\n  //props.id      0/1/2..\n  //props.type    head/dish/\n\n  var placeHolder = props.type + props.field;\n  var parentText = \"\"; // help to conect ti Input component state with the perent component (EditBox)\n\n  const Input = () => {\n    const [text, setText] = useState(() => {\n      if (myContent) return myContent[props.type][props.id][props.field].text;\n      return null;\n    });\n    useEffect(() => {\n      parentText = text;\n    }, [text]);\n\n    if (edit) {\n      if (props.field === \"title\") return /*#__PURE__*/React.createElement(\"input\", {\n        style: {\n          fontSize: fontSize + \"px\"\n        },\n        value: text,\n        onChange: event => setText(event.target.value),\n        placeholder: placeHolder,\n        className: fontFamily + \" col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 24\n        }\n      });else return /*#__PURE__*/React.createElement(\"textarea\", {\n        style: {\n          fontSize: fontSize + \"px\"\n        },\n        value: text,\n        onChange: event => setText(event.target.value),\n        placeholder: placeHolder,\n        className: fontFamily + \" col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 24\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: fontFamily + \" col-12\",\n      style: {\n        fontSize: fontSize + \"px\",\n        mb: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 16\n      }\n    }, text);\n  };\n\n  if (myContent === null || myContent === undefined) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 16\n      }\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"handleSubmit, parentText\", parentText);\n    myContent[props.type][props.id][props.field].text = parentText;\n    myContent[props.type][props.id][props.field].fontFamily = fontFamily;\n    dispatch(putContent(myContent));\n    setEdit(false);\n  }\n\n  return myContent === null || myContent === undefined ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }) : edit ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      padding: \"10px\",\n      margin: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => handleSubmit(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, props.field === \"title\" ? /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      fontSize: fontSize + \"px\"\n    },\n    value: text,\n    onChange: event => setText(event.target.value),\n    placeholder: placeHolder,\n    className: fontFamily + \" col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"textarea\", {\n    style: {\n      fontSize: fontSize + \"px\"\n    },\n    value: text,\n    onChange: event => setText(event.target.value),\n    placeholder: placeHolder,\n    className: fontFamily + \" col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    value: fontFamily,\n    onChange: event => setFontFamily(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"sofia\",\n    className: \"sofia\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, \"Sofia\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"indieFlower\",\n    className: \"indieFlower\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Indie Flower\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"courgette\",\n    className: \"courgette\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"Courgette\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"courierPrime\",\n    className: \"courierPrime\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, \"Courier Prime\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"secularOne\",\n    className: \"secularOne\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Secular One\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"architectsDaughter\",\n    className: \"architectsDaughter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, \"Architects Daughter\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"sacramento\",\n    className: \"sacramento\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, \"Sacramento\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-save btn btn-secondary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, \"save\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    style: {\n      padding: \"10px\",\n      margin: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: fontFamily + \" col-12\",\n    style: {\n      fontSize: fontSize + \"px\",\n      mb: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, text), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-save btn btn-secondary\",\n    onClick: () => setEdit(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, \"edit\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-save-arrow btn btn-secondary\",\n    onClick: () => {\n      fontSize < 70 ? setFontSize(fontSize + 2) : alert(\"this is the maximum font size\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-angle-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-save-arrow btn btn-secondary\",\n    onClick: () => {\n      fontSize > 8 ? setFontSize(fontSize - 2) : alert(\"this is the minimum font size\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fa fa-angle-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }))));\n};\n\nexport default EditBox;","map":{"version":3,"sources":["/home/eilon/programing/full-stack/confusion-new/confusion/src/component/EditBox.js"],"names":["React","useState","useEffect","Loading","useDebounce","useSelector","useDispatch","putContent","EditBox","props","myContent","isLoading","store","dispatch","edit","setEdit","inputTextSaver","setInputTextSaver","fontFamily","setFontFamily","type","id","field","parentText","fontSize","setFontSize","size","indexOf","slice","length","parseInt","debouncedFontSize","undefined","console","log","placeHolder","Input","text","setText","event","target","value","mb","handleSubmit","preventDefault","padding","margin","alert"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Loading  from './Loading'\nimport { useDebounce } from 'use-debounce';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {putContent} from '../redux/ActionCreators'\n\nconst EditBox = (props) => {\n\n    const {myContent, isLoading} = useSelector(store => store.myContent);\n    const dispatch = useDispatch();\n    const [edit, setEdit] = useState(false);\n    const [inputTextSaver, setInputTextSaver] = useState();\n\n    const [fontFamily, setFontFamily] = useState(() => {\n        if (myContent)\n            return (myContent[props.type][props.id][props.field].fontFamily);\n            \n        return null;\n    })\n    useEffect(() => {\n        setInputTextSaver(parentText)\n    }, [fontFamily])\n\n    const [fontSize, setFontSize] = useState(() => {\n        if (myContent){\n            const size = myContent[props.type][props.id][props.field].fontSize;\n            if (typeof size == \"string\" && size.indexOf(\"px\") >-1) \n                return (size.slice(0, size.length-2)); // to remove the \"px\" if exist\n            else \n                return(parseInt(size))\n        }\n        return null;\n    })\n\n    const [debouncedFontSize] = useDebounce(fontSize, 750);\n    useEffect(() => {\n        if (myContent !== null && fontSize != undefined && fontSize !== myContent[props.type][props.id][props.field].fontSize){\n            console.log(\"debounce\")\n            myContent[props.type][props.id][props.field].fontSize = fontSize;\n            dispatch(putContent(myContent));\n        }\n    }, [debouncedFontSize]);\n\n    \n    \n    //props.field   title/description\n    //props.id      0/1/2..\n    //props.type    head/dish/\n\n    var placeHolder=props.type + props.field;\n\n    var parentText = \"\"; // help to conect ti Input component state with the perent component (EditBox)\n    const Input = () => {\n        const [text, setText] = useState(() => {\n            if (myContent)\n                return (myContent[props.type][props.id][props.field].text);\n                \n            return null;\n        })\n        useEffect(() => { parentText = text;} , [text])\n\n        if(edit){\n            if (props.field === \"title\")\n                return <input  style={{fontSize:fontSize+\"px\"}} value={text} onChange={(event) => setText(event.target.value)}\n                                placeholder={placeHolder} className={fontFamily+\" col-12\"}/>\n            else\n                return <textarea  style={{fontSize:fontSize+\"px\"}} value={text} onChange={(event) => setText(event.target.value)}\n                                placeholder={placeHolder} className={fontFamily+\" col-12\"}/>\n        }\n        return <div className={fontFamily+\" col-12\"} style={{fontSize:fontSize+\"px\", mb:0}}>{text}</div>   \n    }    \n\n\n    if(myContent === null || myContent === undefined){\n        return <Loading/>\n    } \n    \n  \n    function handleSubmit(event){\n        event.preventDefault();\n        console.log(\"handleSubmit, parentText\", parentText)\n        myContent[props.type][props.id][props.field].text = parentText\n        myContent[props.type][props.id][props.field].fontFamily = fontFamily\n        dispatch(putContent(myContent));\n        setEdit(false)\n    }\n    \n    return(\n    myContent === null || myContent === undefined?\n    <Loading/>\n    :\n    edit?\n            <div className=\"row\" style={{ padding: \"10px\", margin:\"0px\"}}>\n                <form onSubmit={(event)=> handleSubmit(event)}>\n                   {/*  <Input/> */}\n                   {props.field === \"title\" ?\n                    <input  style={{fontSize:fontSize+\"px\"}} value={text} onChange={(event) => setText(event.target.value)}\n                                placeholder={placeHolder} className={fontFamily+\" col-12\"}/>\n                    :\n                    <textarea  style={{fontSize:fontSize+\"px\"}} value={text} onChange={(event) => setText(event.target.value)}\n                                placeholder={placeHolder} className={fontFamily+\" col-12\"}/> \n                    }       \n                    <select value={fontFamily} onChange={(event) => setFontFamily(event.target.value)}>\n                        <option value=\"sofia\" className=\"sofia\">Sofia</option>\n                        <option value=\"indieFlower\" className=\"indieFlower\">Indie Flower</option>\n                        <option value=\"courgette\" className=\"courgette\">Courgette</option>\n                        <option value=\"courierPrime\" className=\"courierPrime\">Courier Prime</option>\n                        <option value=\"secularOne\" className=\"secularOne\">Secular One</option>\n                        <option value=\"architectsDaughter\" className=\"architectsDaughter\">Architects Daughter</option>\n                        <option value=\"sacramento\" className=\"sacramento\">Sacramento</option>\n                    </select>\n                    <button className=\"edit-save btn btn-secondary\" type=\"submit\" >save</button> \n                </form>\n            </div>\n    :           <div className=\"row\"  style={{ padding: \"10px\", margin:\"0px\"}}>\n                    <div className={fontFamily+\" col-12\"} style={{fontSize:fontSize+\"px\", mb:0}}>{text}</div>\n                        <div className=\"col-12\" >\n                            <button className=\"edit-save btn btn-secondary\" \n                                  onClick={()=>setEdit(true)}>edit</button>\n                            <button className=\"edit-save-arrow btn btn-secondary\" \n                                  onClick={()=>{fontSize<70? setFontSize(fontSize+2) : alert(\"this is the maximum font size\")}}>\n                                <span className=\"fa fa-angle-up\"></span>\n                            </button>\n                            <button className=\"edit-save-arrow btn btn-secondary\" \n                                  onClick={()=>{fontSize>8? setFontSize(fontSize-2) : alert(\"this is the minimum font size\")}}>\n                                <span className=\"fa fa-angle-down\"></span>\n                            </button>\n                        </div>\n                </div>\n\n    )\n}\n\nexport default EditBox;"]},"metadata":{},"sourceType":"module"}