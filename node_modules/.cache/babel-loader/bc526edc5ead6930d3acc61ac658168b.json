{"ast":null,"code":"import*as ActionTypes from'./ActionTypes';import{baseUrl}from'../shared/baseUrl';////////////  signup  ////////////\nexport var signup=function signup(fields_value){return function(dispatch){var newContent={id:fields_value[0],password:fields_value[1],title:fields_value[2],titleFontSize:fields_value[3],description:fields_value[4],descriptionFontSize:fields_value[5]};return fetch(baseUrl+'/content.json',{method:\"POST\",body:JSON.stringify(newContent),headers:{\"Content-Type\":\"application/json\"},credentials:\"same-origin\"}).then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){throw error;}).then(function(response){return response.json();}).then(function(response){dispatch(addContent(response));//alert('Your content was submited successfully');\n}).catch(function(error){console.log('submmit content',error.message);alert('Your content could not be submited\\nError: '+error.message);});};};///////////putContnet///////////\nexport var putContent=function putContent(fields_value){return function(dispatch){console.log(\"ActionCreator-putcontent: id: \",fields_value[0],\" password: \",fields_value[1]);var newContent={id:fields_value[0],password:fields_value[1],title:fields_value[2],titleFontSize:fields_value[3],description:fields_value[4],descriptionFontSize:fields_value[5]};return fetch(baseUrl+'/content/'+fields_value[0]+\".json\",{method:\"PATCH\",body:JSON.stringify(newContent),headers:{\"Content-Type\":\"application/json\"},credentials:\"same-origin\"}).then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){throw error;}).then(function(response){return response.json();}).then(function(response){//dispatch(addContent(response));\ndispatch(addMyContent(response));//alert('Your content was submited successfully');\n}).catch(function(error){console.log('submmit content',error.message);alert('Your content could not be submited\\nError: '+error.message);});};};/// fetch myContent////\nexport var fetchMyContent=function fetchMyContent(id){return function(dispatch){dispatch(myContentLoading(true));if(id===null){id=\"0\";}return fetch(baseUrl+'/content/'+id+\".json\").then(function(response){if(response.ok){console.log(\"ActionCreator-fetchmyContent, response is OK\\nresponse: \",response);return response;}else{console.log(\"ActionCreator-fetchmyContent, response is NOT OK\\nresponse: \",response);var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){console.log(\"ActionCreator-fetchmyContent, NO response \\error.message: \",error.message);var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(myContent){return dispatch(addMyContent(myContent));}).catch(function(error){return dispatch(myContentFailed(error.message));});};};export var myContentLoading=function myContentLoading(){console.log(\"ActionCreator-contentLoading\");return{type:ActionTypes.MYCONTENT_LOADING};};export var myContentFailed=function myContentFailed(errmess){return{type:ActionTypes.MYCONTENT_FAILED,payload:errmess};};export var addMyContent=function addMyContent(myContent){console.log(\"ActionCreator-addContent, content: \",myContent);return{type:ActionTypes.ADD_MYCONTENT,payload:myContent};};/// fetch content////\nexport var fetchContent=function fetchContent(){return function(dispatch){dispatch(contentLoading(true));return fetch(baseUrl+'/content'+\".json\").then(function(response){if(response.ok){console.log(\"ActionCreator-fetchContent, response is OK\\nresponse: \",response);return response;}else{console.log(\"ActionCreator-fetchContent, response is NOT OK\\nresponse: \",response);var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){console.log(\"ActionCreator-fetchContent, NO response \\error.message: \",error.message);var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(content){return dispatch(addContent(content));}).catch(function(error){return dispatch(contentFailed(error.message));});};};export var contentLoading=function contentLoading(){console.log(\"ActionCreator-contentLoading\");return{type:ActionTypes.CONTENT_LOADING};};export var contentFailed=function contentFailed(errmess){return{type:ActionTypes.CONTENT_FAILED,payload:errmess};};export var addContent=function addContent(content){console.log(\"ActionCreator-addContent, content: \",content);return{type:ActionTypes.ADD_CONTENT,payload:content};};///////////feedback///////////\nexport var submitFeedback=function submitFeedback(firstName,lastName,telNum,email,agree,contactType,message){return function(dispatch){var newFeedback={firstName:firstName,lastName:lastName,telNum:telNum,email:email,agree:agree,contactType:contactType,message:message};//previesdly the id and the date where added in comments.js\nnewFeedback.date=new Date().toISOString();return fetch(baseUrl+'/feedback'+\".json\",{method:\"POST\",body:JSON.stringify(newFeedback),headers:{\"Content-Type\":\"application/json\"},//related to the backend \ncredentials:\"same-origin\"}).then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){throw error;}).then(function(response){return response.json();}).then(function(response){dispatch(addFeedback(response));alert('Your feedback was submited successfully');}).catch(function(error){console.log('submmit feedback',error.message);alert('Your feedback could not be submited\\nError: '+error.message);});};};export var addFeedback=function addFeedback(feedback){return{type:ActionTypes.ADD_COMMENT,payload:feedback};};///////////comments////////////\n//since this is a punc, I need to add the dispatch. So, I'll send the function of a function\nexport var postComment=function postComment(dishId,rating,author,comment){return function(dispatch){var newComment={dishId:dishId,rating:rating,author:author,comment:comment};//previesdly the id and the date where added in comments.js\nnewComment.date=new Date().toISOString();return fetch(baseUrl+'/comments'+\".json\",{method:\"POST\",body:JSON.stringify(newComment),headers:{\"Content-Type\":\"application/json\"},//related to the backend \ncredentials:\"same-origin\"}).then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){throw error;}).then(function(response){return response.json();}).then(function(response){return dispatch(addComment(response));}).catch(function(error){console.log('post comments',error.message);alert('Your comment could not be posted\\nError: '+error.message);});};};export var addComment=function addComment(comment){return{type:ActionTypes.ADD_COMMENT,payload:comment};};//////////// LEADERS //////////////\nexport var fetchLeaders=function fetchLeaders(){return function(dispatch){dispatch(leadersLoading(true));return fetch(baseUrl+'/leaders'+\".json\").then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(leaders){return dispatch(addLeaders(leaders));}).catch(function(error){return dispatch(leadersFailed(error.message));});};};export var leadersLoading=function leadersLoading(){return{type:ActionTypes.LEADERS_LOADING};};export var leadersFailed=function leadersFailed(errmess){return{type:ActionTypes.LEADERS_FAILED,payload:errmess};};export var addLeaders=function addLeaders(leaders){//alert(\"action creator, leader: \"+ JSON.stringify(leaders))\nreturn{type:ActionTypes.ADD_LEADERS,payload:leaders};};/*\nexport const addLeaders = (leaders) => ({\n  type: ActionTypes.ADD_LEADERS,\n  payload: leaders\n});\n*/ //////////// DISHES //////////////\nexport var fetchDishes=function fetchDishes(){return function(dispatch){console.log(\"ActionCreator-fetchDishes\");dispatch(dishesLoading(true));return fetch(baseUrl+'/dishes'+\".json\").then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(dishes){return dispatch(addDishes(dishes));}).catch(function(error){return dispatch(dishesFailed(error.message));});};};//returning an action\nexport var dishesLoading=function dishesLoading(){console.log(\"ActionCreator-dishesLoading\");return{type:ActionTypes.DISHES_LOADING};};export var dishesFailed=function dishesFailed(errmess){//alert(\"actionCreator.js - dishesFailed: \"+ errmess);\nreturn{type:ActionTypes.DISHES_FAILED,payload:errmess};};export var addDishes=function addDishes(dishes){return{type:ActionTypes.ADD_DISHES,payload:dishes};};//////////// COMMENTS //////////////\nexport var fetchComments=function fetchComments(){return function(dispatch){return fetch(baseUrl+'/comments'+\".json\").then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(comments){return dispatch(addComments(comments));}).catch(function(error){return dispatch(commentsFailed(error.message));});};};export var commentsFailed=function commentsFailed(errmess){return{type:ActionTypes.COMMENTS_FAILED,payload:errmess};};export var addComments=function addComments(comments){return{type:ActionTypes.ADD_COMMENTS,payload:comments};};//////////// PROMOTIONS //////////////\nexport var fetchPromos=function fetchPromos(){return function(dispatch){dispatch(promosLoading());return fetch(baseUrl+'/promotions'+\".json\").then(function(response){if(response.ok){return response;}else{var error=new Error('Error '+response.status+': '+response.statusText);error.response=response;throw error;}},function(error){var errmess=new Error(error.message);throw errmess;}).then(function(response){return response.json();}).then(function(promos){return dispatch(addPromos(promos));}).catch(function(error){return dispatch(promosFailed(error.message));});};};export var promosLoading=function promosLoading(){return{type:ActionTypes.PROMOS_LOADING};};export var promosFailed=function promosFailed(errmess){return{type:ActionTypes.PROMOS_FAILED,payload:errmess};};export var addPromos=function addPromos(promos){return{type:ActionTypes.ADD_PROMOS,payload:promos};};","map":{"version":3,"sources":["/home/eilon/programing/full-stack/React/confusion/confusion-new/confusion/src/redux/ActionCreators.js"],"names":["ActionTypes","baseUrl","signup","fields_value","dispatch","newContent","id","password","title","titleFontSize","description","descriptionFontSize","fetch","method","body","JSON","stringify","headers","credentials","then","response","ok","error","Error","status","statusText","json","addContent","catch","console","log","message","alert","putContent","addMyContent","fetchMyContent","myContentLoading","errmess","myContent","myContentFailed","type","MYCONTENT_LOADING","MYCONTENT_FAILED","payload","ADD_MYCONTENT","fetchContent","contentLoading","content","contentFailed","CONTENT_LOADING","CONTENT_FAILED","ADD_CONTENT","submitFeedback","firstName","lastName","telNum","email","agree","contactType","newFeedback","date","Date","toISOString","addFeedback","feedback","ADD_COMMENT","postComment","dishId","rating","author","comment","newComment","addComment","fetchLeaders","leadersLoading","leaders","addLeaders","leadersFailed","LEADERS_LOADING","LEADERS_FAILED","ADD_LEADERS","fetchDishes","dishesLoading","dishes","addDishes","dishesFailed","DISHES_LOADING","DISHES_FAILED","ADD_DISHES","fetchComments","comments","addComments","commentsFailed","COMMENTS_FAILED","ADD_COMMENTS","fetchPromos","promosLoading","promos","addPromos","promosFailed","PROMOS_LOADING","PROMOS_FAILED","ADD_PROMOS"],"mappings":"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","sourcesContent":["\nimport * as ActionTypes from './ActionTypes';\nimport { baseUrl } from '../shared/baseUrl';\n\n\n////////////  signup  ////////////\nexport const signup = (fields_value) => (dispatch) => {\n\n  const newContent = {\n    id:fields_value[0],\n    password:fields_value[1],\n    title: fields_value[2],\n    titleFontSize: fields_value[3],\n    description: fields_value[4],\n    descriptionFontSize: fields_value[5]\n  };\n  \n  return fetch(baseUrl + '/content.json', {\n      method: \"POST\",\n      body: JSON.stringify(newContent),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"same-origin\"\n  })\n  .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n    error => {\n          throw error;\n    })\n  .then(response => response.json())\n  .then(response => {\n    dispatch(addContent(response));\n    //alert('Your content was submited successfully');\n  })\n  .catch(error =>  { console.log('submmit content', error.message);\n   alert('Your content could not be submited\\nError: '+error.message); });\n};\n\n\n\n///////////putContnet///////////\n\nexport const putContent = (fields_value) => (dispatch) => {\n\n\n  console.log(\"ActionCreator-putcontent: id: \", fields_value[0], \" password: \", fields_value[1]);\n\n  const newContent = {\n    id:fields_value[0],\n    password:fields_value[1],\n    title: fields_value[2],\n    titleFontSize: fields_value[3],\n    description: fields_value[4],\n    descriptionFontSize: fields_value[5]\n  };\n  \n  return fetch(baseUrl + '/content/'+fields_value[0]+\".json\", {\n      method: \"PATCH\",\n      body: JSON.stringify(newContent),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"same-origin\"\n  })\n  .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n    error => {\n          throw error;\n    })\n  .then(response => response.json())\n  .then(response => {\n    //dispatch(addContent(response));\n    dispatch(addMyContent(response));\n    //alert('Your content was submited successfully');\n  })\n  .catch(error =>  { console.log('submmit content', error.message);\n   alert('Your content could not be submited\\nError: '+error.message); });\n};\n\n\n\n/// fetch myContent////\n\nexport const fetchMyContent = (id) => (dispatch) => {\n\n  dispatch(myContentLoading(true));\n  if(id === null){\n    id = \"0\";\n  }\n  return fetch(baseUrl + '/content/'+id+\".json\")\n  .then(response => {\n      if (response.ok) {\n        console.log(\"ActionCreator-fetchmyContent, response is OK\\nresponse: \", response);        \n        return response;\n      } else {\n        console.log(\"ActionCreator-fetchmyContent, response is NOT OK\\nresponse: \", response);   \n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n    error => {\n      console.log(\"ActionCreator-fetchmyContent, NO response \\error.message: \", error.message); \n          var errmess = new Error(error.message);\n          throw errmess;\n    })\n  .then(response => response.json())\n  .then(myContent => dispatch(addMyContent(myContent)))\n  .catch(error => dispatch(myContentFailed(error.message)));\n\n}\n\nexport const myContentLoading = () => {\n  console.log(\"ActionCreator-contentLoading\");\n  return{\n  type: ActionTypes.MYCONTENT_LOADING\n}}\n\nexport const myContentFailed = ((errmess) => {\n  return({\n  type: ActionTypes.MYCONTENT_FAILED,\n  payload: errmess});\n});\n\nexport const addMyContent = (myContent) => {\n  console.log(\"ActionCreator-addContent, content: \", myContent); \n  return({\n    type: ActionTypes.ADD_MYCONTENT,\n    payload: myContent\n  });\n}\n\n\n\n/// fetch content////\n\nexport const fetchContent = () => (dispatch) => {\n\n  dispatch(contentLoading(true));\n\n  return fetch(baseUrl + '/content'+\".json\")\n  .then(response => {\n      if (response.ok) {\n        console.log(\"ActionCreator-fetchContent, response is OK\\nresponse: \", response);        \n        return response;\n      } else {\n        console.log(\"ActionCreator-fetchContent, response is NOT OK\\nresponse: \", response);   \n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n    error => {\n      console.log(\"ActionCreator-fetchContent, NO response \\error.message: \", error.message); \n          var errmess = new Error(error.message);\n          throw errmess;\n    })\n  .then(response => response.json())\n  .then(content => dispatch(addContent(content)))\n  .catch(error => dispatch(contentFailed(error.message)));\n\n}\n\nexport const contentLoading = () => {\n  console.log(\"ActionCreator-contentLoading\");\n  return{\n  type: ActionTypes.CONTENT_LOADING\n}}\n\nexport const contentFailed = ((errmess) => {\n  return({\n  type: ActionTypes.CONTENT_FAILED,\n  payload: errmess});\n});\n\nexport const addContent = (content) => {\n  console.log(\"ActionCreator-addContent, content: \", content); \n  return({\n    type: ActionTypes.ADD_CONTENT,\n    payload: content\n  });\n}\n\n\n\n\n///////////feedback///////////\n\nexport const submitFeedback = ( firstName, lastName, telNum, email, agree, contactType, message) => (dispatch) => {\n\n  const newFeedback = {\n    firstName: firstName,\n    lastName: lastName,\n    telNum: telNum,\n    email: email,\n    agree: agree,\n    contactType: contactType,\n    message: message\n  };\n  \n //previesdly the id and the date where added in comments.js\n  newFeedback.date = new Date().toISOString();\n  \n  return fetch(baseUrl + '/feedback'+\".json\", {\n      method: \"POST\",\n      body: JSON.stringify(newFeedback),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      //related to the backend \n      credentials: \"same-origin\"\n  })\n  .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n    error => {\n          throw error;\n    })\n  .then(response => response.json())\n  .then(response => {\n    dispatch(addFeedback(response));\n    alert('Your feedback was submited successfully');\n  })\n  .catch(error =>  { console.log('submmit feedback', error.message);\n   alert('Your feedback could not be submited\\nError: '+error.message); });\n};\n\nexport const addFeedback = (feedback) => ({\n  type: ActionTypes.ADD_COMMENT,\n  payload: feedback\n});\n\n\n\n///////////comments////////////\n\n//since this is a punc, I need to add the dispatch. So, I'll send the function of a function\nexport const postComment = (dishId, rating, author, comment) => (dispatch) => {\n\n  const newComment = {\n      dishId: dishId,\n      rating: rating,\n      author: author,\n      comment: comment\n  };\n  \n //previesdly the id and the date where added in comments.js\n  newComment.date = new Date().toISOString();\n  \n  return fetch(baseUrl + '/comments'+\".json\", {\n      method: \"POST\",\n      body: JSON.stringify(newComment),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      //related to the backend \n      credentials: \"same-origin\"\n  })\n  .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n    error => {\n          throw error;\n    })\n  .then(response => response.json())\n  .then(response => dispatch(addComment(response)))\n  .catch(error =>  { console.log('post comments', error.message); alert('Your comment could not be posted\\nError: '+error.message); });\n};\n\n\nexport const addComment = (comment) => ({\n  type: ActionTypes.ADD_COMMENT,\n  payload: comment\n});\n\n\n\n//////////// LEADERS //////////////\n\nexport const fetchLeaders = () => (dispatch) => {\n\n  dispatch(leadersLoading(true));\n\n  return fetch(baseUrl + '/leaders'+\".json\")\n  .then(response => {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error('Error ' + response.status + ': ' + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    },\n    error => {\n          var errmess = new Error(error.message);\n          throw errmess;\n    })\n  .then(response => response.json())\n  .then(leaders => dispatch(addLeaders(leaders)))\n  .catch(error => dispatch(leadersFailed(error.message)));\n\n}\n\n\nexport const leadersLoading = () => ({\n  type: ActionTypes.LEADERS_LOADING\n});\n\nexport const leadersFailed = ((errmess) => {\n  return({\n  type: ActionTypes.LEADERS_FAILED,\n  payload: errmess});\n});\n\nexport const addLeaders = (leaders) => {\n  //alert(\"action creator, leader: \"+ JSON.stringify(leaders))\n  return({\n    type: ActionTypes.ADD_LEADERS,\n    payload: leaders\n  });\n}\n\n/*\nexport const addLeaders = (leaders) => ({\n  type: ActionTypes.ADD_LEADERS,\n  payload: leaders\n});\n*/\n\n//////////// DISHES //////////////\n\n\nexport const fetchDishes = () => (dispatch) => {\n  console.log(\"ActionCreator-fetchDishes\");\n    dispatch(dishesLoading(true));\n\n    return fetch(baseUrl + '/dishes'+\".json\")\n    .then(response => {\n        if (response.ok) {\n          return response;\n        } else {\n          var error = new Error('Error ' + response.status + ': ' + response.statusText);\n          error.response = response;\n          throw error;\n        }\n      },\n      error => {\n            var errmess = new Error(error.message);\n            throw errmess;\n      })\n    .then(response => response.json())\n    .then(dishes => dispatch(addDishes(dishes)))\n    .catch(error => dispatch(dishesFailed(error.message)));\n\n}\n\n\n//returning an action\nexport const dishesLoading = () => {\n  console.log(\"ActionCreator-dishesLoading\");\n    return{type: ActionTypes.DISHES_LOADING}\n}\n\nexport const dishesFailed = ((errmess) => {\n    //alert(\"actionCreator.js - dishesFailed: \"+ errmess);\n    return({\n    type: ActionTypes.DISHES_FAILED,\n    payload: errmess});\n});\n\nexport const addDishes = (dishes) => ({\n    type: ActionTypes.ADD_DISHES,\n    payload: dishes\n});\n\n\n//////////// COMMENTS //////////////\n\nexport const fetchComments = () => (dispatch) => {    \n    return fetch(baseUrl + '/comments'+\".json\")\n    .then(response => {\n        if (response.ok) {\n          return response;\n        } else {\n          var error = new Error('Error ' + response.status + ': ' + response.statusText);\n          error.response = response;\n          throw error;\n        }\n      },\n      error => {\n            var errmess = new Error(error.message);\n            throw errmess;\n      })\n    .then(response => response.json())\n    .then(comments => dispatch(addComments(comments)))\n    .catch(error => dispatch(commentsFailed(error.message)));\n};\n\nexport const commentsFailed = (errmess) => ({\n    type: ActionTypes.COMMENTS_FAILED,\n    payload: errmess\n});\n\nexport const addComments = (comments) => ({\n    type: ActionTypes.ADD_COMMENTS,\n    payload: comments\n});\n\n\n//////////// PROMOTIONS //////////////\n\nexport const fetchPromos = () => (dispatch) => {\n    \n    dispatch(promosLoading());\n\n    return fetch(baseUrl + '/promotions'+\".json\")\n    .then(response => {\n        if (response.ok) {\n          return response;\n        } else {\n          var error = new Error('Error ' + response.status + ': ' + response.statusText);\n          error.response = response;\n          throw error;\n        }\n      },\n      error => {\n            var errmess = new Error(error.message);\n            throw errmess;\n      })\n    .then(response => response.json())\n    .then(promos => dispatch(addPromos(promos)))\n    .catch(error => dispatch(promosFailed(error.message)));\n}\n\nexport const promosLoading = () => ({\n    type: ActionTypes.PROMOS_LOADING\n});\n\nexport const promosFailed = (errmess) => ({\n    type: ActionTypes.PROMOS_FAILED,\n    payload: errmess\n});\n\nexport const addPromos = (promos) => ({\n    type: ActionTypes.ADD_PROMOS,\n    payload: promos\n});"]},"metadata":{},"sourceType":"module"}